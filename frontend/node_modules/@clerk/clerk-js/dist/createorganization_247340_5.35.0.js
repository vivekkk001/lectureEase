"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["96"],{1816:function(e,t,a){a.d(t,{$:function(){return v}});var r=a(7126),o=a(2631),i=a(4194),n=a(8969),l=a(3064),d=a(9885),s=a(8655),u=a(1085),c=a(1132),h=a(8493),g=a(5727),p=a(8181),m=a(7484);let v=(0,d.withCardStateProvider)(e=>{var t,a;let v=(0,d.useCardState)(),C=(0,n.a2)({onNextStep:()=>v.setError(void 0)}),z=i.useRef(null),{createOrganization:b,isLoaded:S,setActive:Z,userMemberships:f}=(0,o.eW)({userMemberships:m.AO.userMemberships}),{organization:x}=(0,o.o8)(),[w,$]=i.useState(),P=(0,c.Yp)("name","",{type:"text",label:(0,u.u1)("formFieldLabel__organizationName"),placeholder:(0,u.u1)("formFieldInputPlaceholder__organizationName")}),F=(0,c.Yp)("slug","",{type:"text",label:(0,u.u1)("formFieldLabel__organizationSlug"),placeholder:(0,u.u1)("formFieldInputPlaceholder__organizationSlug")}),R=!!P.value,k=async t=>{if(t.preventDefault(),R&&S)try{var a,r;let t={name:P.value};e.hideSlug||(t.slug=F.value);let o=await b(t);if(w&&await o.setLogo({file:w}),z.current=o,await Z({organization:o}),null===(a=f.revalidate)||void 0===a||a.call(f),null!==(r=e.skipInvitationScreen)&&void 0!==r?r:1===o.maxAllowedMemberships)return T();C.nextStep()}catch(e){(0,c.S3)(e,[P,F],v.setError)}},T=()=>{var t;e.navigateAfterCreateOrganization(z.current),null===(t=e.onComplete)||void 0===t||t.call(e)},B=e=>{F.setValue(e)},_="organizationList"===e.flow?"subtitle":void 0;return(0,r.BX)(n.en,{...C.props,children:[(0,r.tZ)(d.FormContainer,{headerTitle:null==e?void 0:null===(t=e.startPage)||void 0===t?void 0:t.headerTitle,headerSubtitle:null==e?void 0:null===(a=e.startPage)||void 0===a?void 0:a.headerSubtitle,headerTitleTextVariant:"h2",headerSubtitleTextVariant:_,sx:e=>({minHeight:e.sizes.$60,gap:e.space.$6,textAlign:"left"}),children:(0,r.BX)(d.Form.Root,{onSubmit:k,sx:e=>({gap:e.space.$6}),children:[(0,r.tZ)(l.Col,{children:(0,r.tZ)(p.D,{organization:{name:P.value},onAvatarChange:async e=>await $(e),onAvatarRemove:w?()=>(v.setIdle(),$(null)):null,avatarPreviewPlaceholder:(0,r.tZ)(d.IconButton,{variant:"ghost","aria-label":"Upload organization logo",icon:(0,r.tZ)(l.Icon,{size:"md",icon:s.gq,sx:e=>({color:e.colors.$colorTextSecondary,transitionDuration:e.transitionDuration.$controls})}),sx:e=>({width:e.sizes.$16,height:e.sizes.$16,borderRadius:e.radii.$md,borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$dashed,borderColor:e.colors.$neutralAlpha200,backgroundColor:e.colors.$neutralAlpha50,":hover":{backgroundColor:e.colors.$neutralAlpha50,svg:{transform:"scale(1.2)"}}})})})}),(0,r.tZ)(d.Form.ControlRow,{elementId:P.id,children:(0,r.tZ)(d.Form.PlainInput,{...P.props,onChange:e=>{P.setValue(e.target.value),B((0,c.qi)(e.target.value))},isRequired:!0,autoFocus:!0,ignorePasswordManager:!0})}),!e.hideSlug&&(0,r.tZ)(d.Form.ControlRow,{elementId:F.id,children:(0,r.tZ)(d.Form.PlainInput,{...F.props,onChange:e=>{B(e.target.value)},isRequired:!0,pattern:"^[a-z0-9\\-]+$",ignorePasswordManager:!0})}),(0,r.BX)(d.FormButtonContainer,{sx:e=>({marginTop:e.space.$none}),children:[(0,r.tZ)(d.Form.SubmitButton,{block:!1,isDisabled:!R,localizationKey:(0,u.u1)("createOrganization.formButtonSubmit")}),e.onCancel&&(0,r.tZ)(d.Form.ResetButton,{localizationKey:(0,u.u1)("userProfile.formButtonReset"),block:!1,onClick:e.onCancel})]})]})}),(0,r.tZ)(d.FormContainer,{headerTitle:(0,u.u1)("organizationProfile.invitePage.title"),headerTitleTextVariant:"h2",headerSubtitleTextVariant:_,sx:e=>({minHeight:e.sizes.$60,textAlign:"left"}),children:x&&(0,r.tZ)(h.l,{resetButtonLabel:(0,u.u1)("createOrganization.invitePage.formButtonReset"),onSuccess:C.nextStep,onReset:T})}),(0,r.BX)(l.Col,{children:[(0,r.tZ)(d.Header.Root,{children:(0,r.tZ)(d.Header.Title,{localizationKey:(0,u.u1)("organizationProfile.invitePage.title"),sx:{textAlign:"left"}})}),(0,r.tZ)(d.SuccessPage,{contents:(0,r.tZ)(g.a,{}),sx:e=>({minHeight:e.sizes.$60}),onFinish:T})]})]})})},1441:function(e,t,a){a.r(t),a.d(t,{CreateOrganizationModal:()=>p,CreateOrganization:()=>g});var r=a("7126"),o=a("7571"),i=a("3064"),n=a("9885"),l=a("4676"),d=a("2631"),s=a("143"),u=a("1816");let c=(0,n.withCardStateProvider)(()=>{let{closeCreateOrganization:e}=(0,d.cL)(),{mode:t,navigateAfterCreateOrganization:a,skipInvitationScreen:l,hideSlug:c}=(0,o.useCreateOrganizationContext)(),h=(0,n.useCardState)(),{showDevModeNotice:g}=(0,s.n)();return(0,r.BX)(n.Card.Root,{sx:e=>({width:e.sizes.$108}),children:[(0,r.BX)(n.Card.Content,{sx:e=>({padding:"".concat(e.space.$4," ").concat(e.space.$5," ").concat(g?e.space.$12:e.space.$6)}),children:[(0,r.tZ)(n.Card.Alert,{children:h.error}),(0,r.tZ)(u.$,{skipInvitationScreen:l,startPage:{headerTitle:(0,i.localizationKeys)("createOrganization.title")},navigateAfterCreateOrganization:a,flow:"default",onComplete:()=>{"modal"===t&&e()},hideSlug:c})]}),(0,r.tZ)(n.Card.Footer,{})]})}),h=(0,o.withCoreUserGuard)(()=>(0,r.tZ)(c,{})),g=(0,n.withCardStateProvider)(()=>(0,r.tZ)(i.Flow.Root,{flow:"createOrganization",children:(0,r.tZ)(i.Flow.Part,{children:(0,r.tZ)(l.Switch,{children:(0,r.tZ)(l.Route,{children:(0,r.tZ)(h,{})})})})})),p=e=>{let t={...e,routing:"virtual",componentName:"CreateOrganization",mode:"modal"};return(0,r.tZ)(l.Route,{path:"createOrganization",children:(0,r.tZ)(o.CreateOrganizationContext.Provider,{value:t,children:(0,r.tZ)("div",{children:(0,r.tZ)(g,{})})})})}}}]);