!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(globalThis,()=>(()=>{var t={3145:function(t,e,i){"use strict";var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,s){function a(t){try{l(n.next(t))}catch(t){s(t)}}function o(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(a,o)}l((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var i,n,r,s,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(i)throw TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],n=0}finally{i=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(2091),a="browser-tabs-lock-key";function o(t){return new Promise(function(e){return setTimeout(e,t)})}function l(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<t;n++){var r=Math.floor(Math.random()*e.length);i+=e[r]}return i}var c=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,i){return void 0===i&&(i=5e3),n(this,void 0,void 0,function(){var n,s,c,h,d,u;return r(this,function(r){switch(r.label){case 0:n=Date.now()+l(4),s=Date.now()+i,c=a+"-"+e,h=window.localStorage,r.label=1;case 1:if(!(Date.now()<s))return[3,8];return[4,o(30)];case 2:if(r.sent(),null!==h.getItem(c))return[3,5];return d=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))];case 3:return r.sent(),h.setItem(c,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:if(r.sent(),null!==(u=h.getItem(c))&&(u=JSON.parse(u)).id===this.id&&u.iat===n)return this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(c,n),[2,!0];return[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(s)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+l(4),[3,1];case 8:return[2,!1]}})})},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,function(){var i=this;return r(this,function(a){return setTimeout(function(){return n(i,void 0,void 0,function(){var i,n;return r(this,function(r){switch(r.label){case 0:return[4,s.default().lock(e)];case 1:if(r.sent(),!this.acquiredIatSet.has(e)||null===(n=(i=window.localStorage).getItem(t)))return s.default().unlock(e),[2];return(n=JSON.parse(n)).timeRefreshed=Date.now(),i.setItem(t,JSON.stringify(n)),s.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2]}})})},1e3),[2]})})},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,function(){return r(this,function(i){switch(i.label){case 0:return[4,new Promise(function(i){var n=!1,r=Date.now(),s=!1;function a(){if(s||(window.removeEventListener("storage",a),t.removeFromWaiting(a),clearTimeout(o),s=!0),!n){n=!0;var e=50-(Date.now()-r);e>0?setTimeout(i,e):i()}}window.addEventListener("storage",a),t.addToWaiting(a);var o=setTimeout(a,Math.max(0,e-Date.now()))})];case 1:return i.sent(),[2]}})})},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter(function(t){return t!==e}))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach(function(t){return t()})},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}})})},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,function(){var i,n,o;return r(this,function(r){switch(r.label){case 0:if(i=window.localStorage,n=a+"-"+e,null===(o=i.getItem(n)))return[2];if((o=JSON.parse(o)).id!==this.id)return[3,2];return[4,s.default().lock(o.iat)];case 1:r.sent(),this.acquiredIatSet.delete(o.iat),i.removeItem(n),s.default().unlock(o.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}})})},t.lockCorrector=function(){for(var e=Date.now()-5e3,i=window.localStorage,n=Object.keys(i),r=!1,s=0;s<n.length;s++){var o=n[s];if(o.includes(a)){var l=i.getItem(o);null!==l&&(void 0===(l=JSON.parse(l)).timeRefreshed&&l.timeAcquired<e||void 0!==l.timeRefreshed&&l.timeRefreshed<e)&&(i.removeItem(o),r=!0)}}r&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=c},2091:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,i){var n=t.locked.get(e);void 0===n?void 0===i?t.locked.set(e,[]):t.locked.set(e,[i]):void 0!==i&&(n.unshift(i),t.locked.set(e,n))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise(function(i,n){t.isLocked(e)?t.addToLocked(e,i):(t.addToLocked(e),i())})},this.unlock=function(e){var i=t.locked.get(e);if(void 0===i||0===i.length){t.locked.delete(e);return}var n=i.pop();t.locked.set(e,i),void 0!==n&&setTimeout(n,0)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return i.getInstance()}},990:function(t){t.exports=function(t,e){if("string"!=typeof t)throw TypeError("Expected a string");for(var i,n=String(t),r="",s=!!e&&!!e.extended,a=!!e&&!!e.globstar,o=!1,l=e&&"string"==typeof e.flags?e.flags:"",c=0,h=n.length;c<h;c++)switch(i=n[c]){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+i;break;case"?":if(s){r+=".";break}case"[":case"]":if(s){r+=i;break}case"{":if(s){o=!0,r+="(";break}case"}":if(s){o=!1,r+=")";break}case",":if(o){r+="|";break}r+="\\"+i;break;case"*":for(var d=n[c-1],u=1;"*"===n[c+1];)u++,c++;var p=n[c+1];a?u>1&&("/"===d||void 0===d)&&("/"===p||void 0===p)?(r+="((?:[^/]*(?:/|$))*)",c++):r+="([^/]*)":r+=".*";break;default:r+=i}return l&&~l.indexOf("g")||(r="^"+r+"$"),new RegExp(r,l)}},7446:function(t){var e=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",o=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function h(t,i,n,s){var a,o,l,c,h=Object.create((i&&i.prototype instanceof v?i:v).prototype);return r(h,"_invoke",{value:(a=t,o=n,l=new I(s||[]),c=u,function(t,i){if(c===p)throw Error("Generator is already running");if(c===f){if("throw"===t)throw i;return P()}for(l.method=t,l.arg=i;;){var n=l.delegate;if(n){var r=function t(i,n){var r=n.method,s=i.iterator[r];if(e===s)return n.delegate=null,"throw"===r&&i.iterator.return&&(n.method="return",n.arg=e,t(i,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),m;var a=d(s,i.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var o=a.arg;return o?o.done?(n[i.resultName]=o.value,n.next=i.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,m)}(n,l);if(r){if(r===m)continue;return r}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===u)throw c=f,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=p;var s=d(a,o,l);if("normal"===s.type){if(c=l.done?f:"suspendedYield",s.arg===m)continue;return{value:s.arg,done:l.done}}"throw"===s.type&&(c=f,l.method="throw",l.arg=s.arg)}})}),h}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var u="suspendedStart",p="executing",f="completed",m={};function v(){}function g(){}function w(){}var _={};c(_,a,function(){return this});var b=Object.getPrototypeOf,y=b&&b(b(C([])));y&&y!==i&&n.call(y,a)&&(_=y);var k=w.prototype=v.prototype=Object.create(_);function S(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function U(t,e){var i;r(this,"_invoke",{value:function(r,s){function a(){return new e(function(i,a){!function i(r,s,a,o){var l=d(t[r],t,s);if("throw"===l.type)o(l.arg);else{var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){i("next",t,a,o)},function(t){i("throw",t,a,o)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return i("throw",t,a,o)})}}(r,s,i,a)})}return i=i?i.then(a,a):a()}})}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var i=t[a];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){for(;++r<t.length;)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=w,r(k,"constructor",{value:w,configurable:!0}),r(w,"constructor",{value:g,configurable:!0}),g.displayName=c(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},S(U.prototype),c(U.prototype,o,function(){return this}),t.AsyncIterator=U,t.async=function(e,i,n,r,s){void 0===s&&(s=Promise);var a=new U(h(e,i,n,r),s);return t.isGeneratorFunction(i)?a:a.next().then(function(t){return t.done?t.value:a.next()})},S(k),c(k,l,"Generator"),c(k,a,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return o.type="throw",o.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(c){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw Error("try statement without catch or finally")}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var a=s?s.completion:{};return(a.type=t,a.arg=e,s)?(this.method="next",this.next=s.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;O(i)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:C(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},6361:function(t,e,i){"use strict";let n;{let t=/(^.*\/@clerk\/clerk-js@)(.+?)(\/dist.*)/;(()=>{try{let e=new URL(document.currentScript.src),n=new URL(e.href.split("/").slice(0,-1).join("/")).href;n+=n.endsWith("/")?"":"/",i.p=n.replace(t,"$1".concat("5.35.0","$3"))}catch(t){}})()}function r(t,e){return e.get?e.get.call(t):e.value}function s(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function a(t,e){var i=s(t,e,"get");return r(t,i)}function o(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function l(t,e,i){o(t,e),e.set(t,i)}function c(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}function h(t,e,i){var n=s(t,e,"set");return c(t,n,i),i}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function u(){return"undefined"!=typeof window}i("7446");var p,f,m,v,g,w,_,b,y,k,S,U,A,O,I,C,P,E,T,R,x,M,W=RegExp("bot|spider|crawl|APIs-Google|AdsBot|Googlebot|mediapartners|Google Favicon|FeedFetcher|Google-Read-Aloud|DuplexWeb-Google|googleweblight|bing|yandex|baidu|duckduck|yahoo|ecosia|ia_archiver|facebook|instagram|pinterest|reddit|slack|twitter|whatsapp|youtube|semrush","i");function z(){var t;let e=u()?null==window?void 0:window.navigator:null;return!!e&&!((t=null==e?void 0:e.userAgent)&&W.test(t))&&!(null==e?void 0:e.webdriver)}function N(){var t,e;let i=u()?null==window?void 0:window.navigator:null;if(!i)return!1;let n=null==i?void 0:i.onLine;return(null==(t=null==i?void 0:i.connection)?void 0:t.rtt)!==0&&(null==(e=null==i?void 0:i.connection)?void 0:e.downlink)!==0&&n}var F=i("2689"),L=()=>!1,D=()=>{try{return!0}catch(t){}return!1},j=new Set,J=(t,e,i)=>{let n=L()||D(),r=null!=i?i:t;!j.has(r)&&!n&&(j.add(r),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))},K=i("5120"),V=t=>"undefined"!=typeof atob&&"function"==typeof atob?atob(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t,"base64").toString():t,q=t=>"undefined"!=typeof btoa&&"function"==typeof btoa?btoa(t):"undefined"!=typeof global&&global.Buffer?new global.Buffer(t).toString("base64"):t,B=[".lcl.dev",".lclstage.dev",".lclclerk.com"],$=[".accounts.dev",".accountsstage.dev",".accounts.lclclerk.com"],G=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],H="pk_live_";function Y(t,e={}){if(!(t=t||"")||!function(t){let e=(t=t||"").startsWith(H)||t.startsWith("pk_test_"),i=V(t.split("_")[2]||"").endsWith("$");return e&&i}(t)){if(e.fatal)throw Error("Publishable key not valid.");return null}let i=t.startsWith(H)?"production":"development",n=V(t.split("_")[2]);return n=n.slice(0,-1),e.proxyUrl?n=e.proxyUrl:"development"!==i&&e.domain&&(n=`clerk.${e.domain}`),{instanceType:i,frontendApi:n}}async function Q(t,e=globalThis.crypto.subtle){let i=new TextEncoder().encode(t);return q(String.fromCharCode(...new Uint8Array(await e.digest("sha-1",i)))).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}var Z=(t,e)=>`${t}_${e}`,X=class{constructor(t){this.eventTarget=window,this.postMessage=t=>{if("undefined"!=typeof window)try{window.localStorage.setItem(this.channelKey,JSON.stringify(t)),window.localStorage.removeItem(this.channelKey)}catch(t){}},this.addEventListener=(t,e)=>{this.eventTarget.addEventListener(this.prefixEventName(t),t=>{e(t)})},this.setupLocalStorageListener=()=>{window.addEventListener("storage",t=>{if(t.key===this.channelKey&&t.newValue)try{let e=JSON.parse(t.newValue||""),i=new MessageEvent(this.prefixEventName("message"),{data:e});this.eventTarget.dispatchEvent(i)}catch(t){}})},this.channelKey="__lsbc__"+t,this.setupLocalStorageListener()}prefixEventName(t){return this.channelKey+t}},tt=new Set,te={warnOnce:t=>{!tt.has(t)&&(tt.add(t),console.warn(t))},logOnce:t=>{!tt.has(t)&&(console.log(t),tt.add(t))}};function ti(t){return/^http(s)?:\/\//.test(t||"")}function tn(t){return t.startsWith("/")}function tr(t){return t?t.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`):""}var ts=t=>{let e=i=>{if(!i)return i;if(Array.isArray(i))return i.map(t=>"object"==typeof t||Array.isArray(t)?e(t):t);let n={...i};for(let i of Object.keys(n)){let r=t(i.toString());r!==i&&(n[r]=n[i],delete n[i]),"object"==typeof n[r]&&(n[r]=e(n[r]))}return n};return e};ts(tr);var ta=ts(function(t){return t?t.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""});function to(t){if("boolean"==typeof t)return t;if(null==t)return!1;if("string"==typeof t){if("true"===t.toLowerCase())return!0;if("false"===t.toLowerCase())return!1}let e=parseInt(t,10);return!isNaN(e)&&e>0}var tl=class{constructor(){(0,F.Ko)(this,m),(0,F.Ko)(this,p,"clerk_telemetry_throttler"),(0,F.Ko)(this,f,864e5)}isEventThrottled(t){var e;if(!(0,F.ac)(this,m,w))return!1;let i=Date.now(),n=(0,F.U9)(this,m,v).call(this,t),r=null==(e=(0,F.ac)(this,m,g))?void 0:e[n];if(!r){let t={...(0,F.ac)(this,m,g),[n]:i};localStorage.setItem((0,F.ac)(this,p),JSON.stringify(t))}if(r&&i-r>(0,F.ac)(this,f)){let t=(0,F.ac)(this,m,g);delete t[n],localStorage.setItem((0,F.ac)(this,p),JSON.stringify(t))}return!!r}};p=new WeakMap,f=new WeakMap,m=new WeakSet,v=function(t){let{sk:e,pk:i,payload:n,...r}=t,s={...n,...r};return JSON.stringify(Object.keys({...n,...r}).sort().map(t=>s[t]))},g=function(){let t=localStorage.getItem((0,F.ac)(this,p));return t?JSON.parse(t):{}},w=function(){if("undefined"==typeof window)return!1;let t=window.localStorage;if(!t)return!1;try{let e="test";return t.setItem(e,e),t.removeItem(e),!0}catch(e){return e instanceof DOMException&&("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t.length>0&&t.removeItem((0,F.ac)(this,p)),!1}};var tc={samplingRate:1,maxBufferSize:5,endpoint:"https://clerk-telemetry.com"},th=class{constructor(t){var e,i,n,r,s,a;(0,F.Ko)(this,U),(0,F.Ko)(this,_),(0,F.Ko)(this,b),(0,F.Ko)(this,y,{}),(0,F.Ko)(this,k,[]),(0,F.Ko)(this,S),(0,F.qx)(this,_,{maxBufferSize:null!=(e=t.maxBufferSize)?e:tc.maxBufferSize,samplingRate:null!=(i=t.samplingRate)?i:tc.samplingRate,disabled:null!=(n=t.disabled)&&n,debug:null!=(r=t.debug)&&r,endpoint:tc.endpoint}),t.clerkVersion||"undefined"!=typeof window?(0,F.ac)(this,y).clerkVersion=null!=(s=t.clerkVersion)?s:"":(0,F.ac)(this,y).clerkVersion="",(0,F.ac)(this,y).sdk=t.sdk,(0,F.ac)(this,y).sdkVersion=t.sdkVersion,(0,F.ac)(this,y).publishableKey=null!=(a=t.publishableKey)?a:"";let o=Y(t.publishableKey);o&&((0,F.ac)(this,y).instanceType=o.instanceType),t.secretKey&&((0,F.ac)(this,y).secretKey=t.secretKey.substring(0,16)),(0,F.qx)(this,b,new tl)}get isEnabled(){var t;return!("development"!==(0,F.ac)(this,y).instanceType||(0,F.ac)(this,_).disabled||"undefined"!=typeof process&&to(process.env.CLERK_TELEMETRY_DISABLED))&&("undefined"==typeof window||null==(t=null==window?void 0:window.navigator)||!t.webdriver)}get isDebug(){return(0,F.ac)(this,_).debug||"undefined"!=typeof process&&to(process.env.CLERK_TELEMETRY_DEBUG)}record(t){let e=(0,F.U9)(this,U,T).call(this,t.event,t.payload);(0,F.U9)(this,U,P).call(this,e.event,e),(0,F.U9)(this,U,A).call(this,e,t.eventSamplingRate)&&((0,F.ac)(this,k).push(e),(0,F.U9)(this,U,I).call(this))}};function td(t,e){var i,n,r;return{event:"COMPONENT_MOUNTED",eventSamplingRate:.1,payload:{component:t,appearanceProp:!!(null==e?void 0:e.appearance),baseTheme:!!(null==(i=null==e?void 0:e.appearance)?void 0:i.baseTheme),elements:!!(null==(n=null==e?void 0:e.appearance)?void 0:n.elements),variables:!!(null==(r=null==e?void 0:e.appearance)?void 0:r.variables)}}}_=new WeakMap,b=new WeakMap,y=new WeakMap,k=new WeakMap,S=new WeakMap,U=new WeakSet,A=function(t,e){return this.isEnabled&&!this.isDebug&&(0,F.U9)(this,U,O).call(this,t,e)},O=function(t,e){let i=Math.random();return!(0,F.ac)(this,b).isEventThrottled(t)&&i<=(0,F.ac)(this,_).samplingRate&&(void 0===e||i<=e)},I=function(){if("undefined"==typeof window){(0,F.U9)(this,U,C).call(this);return}if((0,F.ac)(this,k).length>=(0,F.ac)(this,_).maxBufferSize){(0,F.ac)(this,S)&&("undefined"!=typeof cancelIdleCallback?cancelIdleCallback:clearTimeout)((0,F.ac)(this,S)),(0,F.U9)(this,U,C).call(this);return}!(0,F.ac)(this,S)&&("requestIdleCallback"in window?(0,F.qx)(this,S,requestIdleCallback(()=>{(0,F.U9)(this,U,C).call(this)})):(0,F.qx)(this,S,setTimeout(()=>{(0,F.U9)(this,U,C).call(this)},0)))},C=function(){fetch(new URL("/v1/event",(0,F.ac)(this,_).endpoint),{method:"POST",body:JSON.stringify({events:(0,F.ac)(this,k)}),headers:{"Content-Type":"application/json"}}).catch(()=>void 0).then(()=>{(0,F.qx)(this,k,[])}).catch(()=>void 0)},P=function(t,e){this.isDebug&&(void 0!==console.groupCollapsed?(console.groupCollapsed("[clerk/telemetry]",t),console.log(e),console.groupEnd()):console.log("[clerk/telemetry]",t,e))},E=function(){let t={name:(0,F.ac)(this,y).sdk,version:(0,F.ac)(this,y).sdkVersion};return"undefined"!=typeof window&&window.Clerk&&(t={...t,...window.Clerk.constructor.sdkMetadata}),t},T=function(t,e){var i,n;let r=(0,F.U9)(this,U,E).call(this);return{event:t,cv:null!=(i=(0,F.ac)(this,y).clerkVersion)?i:"",it:null!=(n=(0,F.ac)(this,y).instanceType)?n:"",sdk:r.name,sdkv:r.version,...(0,F.ac)(this,y).publishableKey?{pk:(0,F.ac)(this,y).publishableKey}:{},...(0,F.ac)(this,y).secretKey?{sk:(0,F.ac)(this,y).secretKey}:{},payload:e}};var tu={firstDelay:125,maxDelay:0,timeMultiple:2,shouldRetry:()=>!0},tp=async t=>new Promise(e=>setTimeout(e,t)),tf=t=>{let e=0,i=()=>{let i=t.firstDelay*Math.pow(t.timeMultiple,e);return Math.min(t.maxDelay||i,i)};return async()=>{await tp(i()),e++}},tm=async(t,e={})=>{let i=0,{shouldRetry:n,firstDelay:r,maxDelay:s,timeMultiple:a}={...tu,...e},o=tf({firstDelay:r,maxDelay:s,timeMultiple:a});for(;;)try{return await t()}catch(t){if(!n(t,++i))throw t;await o()}};function tv(t,e,i){return"function"==typeof t?t(e):void 0!==t?t:void 0!==i?i:void 0}var tg=(...t)=>{};let tw="clerk:beforeunload",t_=["http:","https:","wails:","chrome-extension:"];function tb(t){let e=new URL(t,window.location.href);t_.includes(e.protocol)||(console.warn('Clerk: "'.concat(e.protocol,'" is not a valid protocol. Redirecting to "/" instead. If you think this is a mistake, please open an issue.')),e=new URL("/",window.location.href)),window.dispatchEvent(new CustomEvent(tw)),window.location.href=e.href}let ty=()=>{let t=!1,e=()=>t=!0;return{startTracking:()=>{window.addEventListener("beforeunload",e),window.addEventListener(tw,e)},stopTracking:()=>{window.removeEventListener("beforeunload",e),window.removeEventListener(tw,e)},isUnloading:()=>t}},tk=t=>{let{signUp:e,verifyEmailPath:i,verifyPhonePath:n,navigate:r,handleComplete:s,redirectUrl:a="",redirectUrlComplete:o=""}=t;if("complete"===e.status)return s&&s();if("missing_requirements"===e.status){var l,c;if(e.missingFields.some(t=>"saml"===t))return e.authenticateWithRedirect({strategy:"saml",redirectUrl:a,redirectUrlComplete:o,continueSignUp:!0});if((null===(l=e.unverifiedFields)||void 0===l?void 0:l.includes("email_address"))&&i)return r(i);if((null===(c=e.unverifiedFields)||void 0===c?void 0:c.includes("phone_number"))&&n)return r(n)}},tS=(t,e)=>!!(t.session&&(null==e?void 0:e.authConfig.singleSessionMode)),tU=t=>!t.user,tA=t=>!t.organization,tO=(t,e)=>!(null==e?void 0:e.organizationSettings.enabled);function tI(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.errors&&!!t.errors.find(t=>t.code===e)}let tC=(0,K.t5)({packageName:"@clerk/clerk-js"});function tP(t){return new URL(window.location.href).searchParams.get(t)||null}function tE(t){let e=new URL(window.location.href);e.searchParams.has(t)&&(e.searchParams.delete(t),window.history.replaceState(window.history.state,"",e))}let tT=t=>!!t&&"object"==typeof t&&"target"in t&&"currentTarget"in t&&"preventDefault"in t;function tR(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e.requireType&&typeof t!==e.requireType||tT(t)))return t}var tx=i("990"),tM={toRegexp:t=>{try{return tx(t)}catch(e){throw Error(`Invalid pattern: ${t}.
Consult the documentation of glob-to-regexp here: https://www.npmjs.com/package/glob-to-regexp.
${e.message}`)}}};let tW=RegExp("/{1,}","g"),tz=t=>{let e={};return new URLSearchParams(t).forEach((t,i)=>{if(i in e){let n=e[i];Array.isArray(n)?n.push(t):e[i]=[n,t]}else e[i]=t}),e},tN=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==t||!t||"object"!=typeof t)return"";let i=new URLSearchParams;return Object.keys(t).forEach(n=>{let r=e.keyEncoder?e.keyEncoder(n):n,s=t[n];if(Array.isArray(s))s.forEach(t=>void 0!==t&&i.append(r,t||""));else{if(void 0===s)return;"object"==typeof s&&null!==s?i.append(r,JSON.stringify(s)):i.append(r,String(null!=s?s:""))}}),i.toString()},tF="http://clerk-dummy",tL=["javascript:"],{isDevOrStagingUrl:tD}=function(){let t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;let i="string"==typeof e?e:e.hostname,n=t.get(i);return void 0===n&&(n=G.some(t=>i.endsWith(t)),t.set(i,n)),n}}}(),tj=new Map;function tJ(t){return t.replace("clerk.","")}function tK(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{base:i,hashPath:n,hashSearch:r,searchParams:s,hashSearchParams:a,...o}=t,l="",c=new URL(i||"","undefined"!=typeof window&&window.location?window.location.href:"http://react-native-fake-base-url");if(s instanceof URLSearchParams&&s.forEach((t,e)=>{null!=t&&c.searchParams.set(tr(e),t)}),Object.assign(c,o),n||r||a){let t=new URL(tF+c.hash.substring(1));for(let[e,i]of(t.pathname=[t.pathname,n||""].filter(t=>t).join("/").replace(tW,"/"),Object.entries(tz(r||""))))t.searchParams.append(e,i);if(a)for(let e of Array.isArray(a)?a:[a])(e instanceof URLSearchParams||"object"==typeof e)&&new URLSearchParams(e).forEach((e,i)=>{null!=e&&t.searchParams.set(tr(i),e)});let e=t.href.replace(tF,"");"/"!==e&&(c.hash=e)}let{stringify:h,skipOrigin:d}=e;return h?d?c.href.replace(c.origin,""):c.href:c}let tV=t=>(t||"").replace(/\/+$/,""),tq=t=>{let{externalAccount:e}=t.verifications;return!!e.error};function tB(t,e){try{return new URL(t)}catch(i){return new URL(t,e)}}let t$=[/\0/,/^\/\//,/[\x00-\x1F]/],tG=["/oauth/authorize"],tH=["/v1/verify","/v1/tickets/accept"],tY=(t,e)=>i=>{let n=i;if("string"==typeof n&&(n=tB(n,e)),!t)return!0;let r=e===n.origin,s=!function(t){if(function(t){if(!function(t){if(!t)return!1;try{return new URL(t),!0}catch(t){return!1}}(t))return!1;let e=new URL(t).protocol;return tL.some(t=>t===e)}(t))return!0;for(let e of t$)if(e.test(t.pathname))return!0;return!1}(n)&&(r||t.map(t=>"string"==typeof t?tM.toRegexp(tV(t)):t).some(t=>t.test(tV(n.origin))));return s||te.warnOnce("Clerk: Redirect URL ".concat(n," is not on one of the allowedRedirectOrigins, falling back to the default redirect URL.")),s};function tQ(t){var e;return e=t.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(i.g.atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}function tZ(t){let e=(t||"").split("."),[i,n,r]=e;if(3!==e.length||!i||!n||!r)throw Error("JWT could not be decoded");let s=JSON.parse(tQ(n)),a={__raw:t};return Object.keys(s).forEach(t=>{a[t]=s[t]}),{encoded:{header:i,payload:n,signature:r},header:JSON.parse(tQ(i)),claims:a}}let tX=()=>{},t0=()=>{if(!u())return{onPageFocus:tX};let t={focus:[]};return window.addEventListener("focus",()=>{"visible"===document.visibilityState&&t.focus.forEach(t=>t())}),{onPageFocus:e=>{t.focus.push(e)}}};function t1(){return void 0!==globalThis.document}function t3(){return t1()&&window.self!==window.top&&!window.frameElement}function t2(t,e){if(t!==e)throw TypeError("Private static access of wrong provenance")}function t5(t,e){if(void 0===t)throw TypeError("attempted to "+e+" private static field before its declaration")}function t9(t,e,i){return t2(t,e),t5(i,"get"),r(t,i)}var t6=new WeakMap,t4=new WeakMap,t8=new WeakMap;class t7{static getInstance(){if(!t9(t7,t7,et)){var t;t=new t7,t2(t7,t7),t5(et,"set"),c(t7,et,t)}return t9(t7,t7,et)}constructor(){if(l(this,t6,{writable:!0,value:[]}),l(this,t4,{writable:!0,value:{metamask:"MetaMask"}}),d(this,"get",t=>{var e;return 1===a(this,t6).length?a(this,t6)[0].provider:null===(e=a(this,t6).find(e=>e.info.name===a(this,t4)[t]))||void 0===e?void 0:e.provider}),l(this,t8,{writable:!0,value:t=>{!a(this,t6).some(e=>e.info.uuid===t.detail.info.uuid)&&a(this,t6).push(t.detail)}}),"undefined"==typeof window)return;window.addEventListener("eip6963:announceProvider",a(this,t8)),window.dispatchEvent(new Event("eip6963:requestProvider"))}}var et={writable:!0,value:null};let ee=()=>t7.getInstance();async function ei(t){let{provider:e}=t,i=await el(e);if(!i)return"";let n=await i.request({method:"eth_requestAccounts"});return n&&n[0]||""}async function en(t){let{identifier:e,nonce:i,provider:n}=t,r=await el(n);return r?await r.request({method:"personal_sign",params:["0x".concat(i.split("").map(t=>t.charCodeAt(0).toString(16).padStart(2,"0")).join("")),e]}):""}async function er(){return await ei({provider:"metamask"})}async function es(){return await ei({provider:"coinbase_wallet"})}async function ea(t){return await en({...t,provider:"metamask"})}async function eo(t){return await en({...t,provider:"coinbase_wallet"})}async function el(t){return"coinbase_wallet"===t?new(await Promise.all([i.e("956"),i.e("192"),i.e("802")]).then(i.bind(i,6850)).then(t=>t.CoinbaseWalletSDK))({}).makeWeb3Provider({options:"all"}):ee().get(t)}function ec(t){let e=["redirectUrl","afterSignInUrl","afterSignUpUrl","after_sign_in_url","after_sign_up_url"],i=Object.keys(t).find(t=>e.includes(t));i&&t[i]&&te.warnOnce('Clerk: The prop "'.concat(i,'" is deprecated and should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props'))}let eh="ClerkJS:";function ed(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(eh," Something went wrong initializing Clerk in development mode.").concat(t&&" ".concat(t)))}function eu(t){throw Error("".concat(eh," Token refresh failed (error='").concat(t,"')"))}function ep(t){throw Error("".concat(eh," Something went wrong initializing Clerk during the ").concat(t," flow. Please contact support."))}function ef(t){throw Error("".concat(eh," You need to start a ").concat(t," flow by calling ").concat(t,".create() first."))}function em(t,e){throw Error("".concat(eh,' Strategy "').concat(e,'" is not a valid strategy for ').concat(t,"."))}function ev(t){throw Error("".concat(eh," You need to start a ").concat(t," flow by calling ").concat(t,".create({ identifier: 'your web3 wallet address' }) first"))}function eg(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";throw Error("".concat(eh," Missing '").concat(t,"' option"))}function ew(t,e){throw Error("".concat(eh," Response: ").concat(t||0," not supported yet.\nFor more information contact us at ").concat(e))}function e_(t){throw Error("".concat(eh," Missing publicKey. When calling 'navigator.credentials.").concat(t,"()' it is required to pass a publicKey object."))}class eb{static get fapiClient(){return eb.clerk.getFapiClient()}static async _fetch(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eb.fapiClient||function(){throw Error("".concat(eh," Missing FAPI client in resources."))}();try{e=await eb.fapiClient.request(t)}catch(t){if(this.shouldRethrowOfflineNetworkErrors())throw new K.w$((null==t?void 0:t.message)||t,{code:"network_error"});if(!(N()&&z()))return console.warn(t),null;throw t}let{payload:n,status:r,statusText:s,headers:a}=e;if(a){let t=a.get("x-country");this.clerk.__internal_setCountry(t?t.toLowerCase():null)}if(("GET"!==t.method||i.forceUpdateClient)&&this._updateClient(n),r>=200&&r<=299)return n;if(r>=400){var o,l;let t=null==n?void 0:n.errors,e=null==t?void 0:null===(o=t[0])||void 0===o?void 0:o.long_message,i=null==t?void 0:null===(l=t[0])||void 0===l?void 0:l.code;throw 401===r&&"requires_captcha"!==i&&await eb.clerk.handleUnauthenticated(),!function(t,e){var i;if(!e||!e[0])return;let n=e[0],r=n.long_message;if("origin_invalid"===n.code&&((i=eb.clerk.publishableKey).startsWith("live_")||i.startsWith("pk_live_"))){let i=eb.clerk.frontendApi.replace("clerk.","");throw new K.gO('Clerk: Production Keys are only allowed for domain "'.concat(i,'". \nAPI Error: ').concat(r),{data:e,status:t})}}(r,t),new K.gO(e||s,{data:t,status:r})}return null}static _updateClient(t){var e;if(!t)return;let i=t.client||(null===(e=t.meta)||void 0===e?void 0:e.client);i&&eb.clerk&&eb.clerk.updateClient(eO.getInstance().fromJSON(i))}isNew(){return!this.id}path(t){let e=this.pathRoot;if(this.isNew())return e;let i=e.replace(/[^/]$/,"$&/")+encodeURIComponent(this.id);return t?i.replace(/[^/]$/,"$&/")+encodeURIComponent(t):i}async _baseGet(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=await eb._fetch({method:"GET",path:this.path(),rotatingTokenNonce:t.rotatingTokenNonce},t);return this.fromJSON((null==e?void 0:e.response)||e)}async _baseMutate(t){let{action:e,body:i,method:n="POST",path:r}=t,s=await eb._fetch({method:n,path:r||this.path(e),body:i});return this.fromJSON((null==s?void 0:s.response)||s)}async _basePost(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"POST"})}async _basePut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PUT"})}async _basePatch(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._baseMutate({...t,method:"PATCH"})}async _baseDelete(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await this._baseMutate({...t,method:"DELETE"})}async reload(t){let{rotatingTokenNonce:e}=t||{};return this._baseGet({forceUpdateClient:!0,rotatingTokenNonce:e})}static shouldRethrowOfflineNetworkErrors(){var t,e;let i=null===(e=eb.clerk)||void 0===e?void 0:null===(t=e.__internal_getOption)||void 0===t?void 0:t.call(e,"experimental");return(null==i?void 0:i.rethrowOfflineNetworkErrors)||!1}constructor(){d(this,"id",void 0),d(this,"pathRoot","")}}d(eb,"clerk",void 0);class ey extends eb{get instanceIsPasswordBased(){return this.attributes.password.enabled&&this.attributes.password.required}get hasValidAuthFactor(){return this.attributes.email_address.enabled||this.attributes.phone_number.enabled||this.attributes.password.required&&this.attributes.username.required}fromJSON(t){var e,i,n;return t&&(this.social=t.social,this.saml=t.saml,this.attributes=Object.fromEntries(Object.entries(t.attributes).map(t=>[t[0],{...t[1],name:t[0]}])),this.actions=t.actions,this.signIn=t.sign_in,this.signUp=t.sign_up,this.passwordSettings={...t.password_settings,min_length:Math.max(null==t?void 0:null===(e=t.password_settings)||void 0===e?void 0:e.min_length,8),max_length:(null==t?void 0:null===(i=t.password_settings)||void 0===i?void 0:i.max_length)===0?72:Math.min(null==t?void 0:null===(n=t.password_settings)||void 0===n?void 0:n.max_length,72)},this.passkeySettings=t.passkey_settings,this.socialProviderStrategies=this.getSocialProviderStrategies(t.social),this.authenticatableSocialStrategies=this.getAuthenticatableSocialStrategies(t.social),this.web3FirstFactors=this.getWeb3FirstFactors(this.attributes),this.enabledFirstFactorIdentifiers=this.getEnabledFirstFactorIdentifiers(this.attributes)),this}getEnabledFirstFactorIdentifiers(t){return t?Object.entries(t).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&!e.startsWith("web3")}).map(t=>{let[e]=t;return e}):[]}getWeb3FirstFactors(t){return t?Object.entries(t).filter(t=>{let[e,i]=t;return i.used_for_first_factor&&e.startsWith("web3")}).map(t=>{let[,e]=t;return e.first_factors}).flat():[]}getSocialProviderStrategies(t){return t?Object.entries(t).filter(t=>{let[,e]=t;return e.enabled}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}getAuthenticatableSocialStrategies(t){return t?Object.entries(t).filter(t=>{let[,e]=t;return e.enabled&&e.authenticatable}).map(t=>{let[,e]=t;return e.strategy}).sort():[]}constructor(t){super(),d(this,"id",void 0),d(this,"social",void 0),d(this,"saml",void 0),d(this,"attributes",void 0),d(this,"actions",void 0),d(this,"signIn",void 0),d(this,"signUp",void 0),d(this,"passwordSettings",void 0),d(this,"passkeySettings",void 0),d(this,"socialProviderStrategies",[]),d(this,"authenticatableSocialStrategies",[]),d(this,"web3FirstFactors",[]),d(this,"enabledFirstFactorIdentifiers",[]),this.fromJSON(t)}}class ek extends eb{fromJSON(t){return this.singleSessionMode=!t||t.single_session_mode,this}constructor(t){super(),d(this,"singleSessionMode",void 0),this.fromJSON(t)}}function eS(t){let e=new Date(t||new Date);return e instanceof Date&&!isNaN(e.getTime())?e:new Date}class eU{static fromKey(t){let[e,i,n=""]=t.split("::");return new eU(e,{audience:n,tokenId:i})}toKey(){let{tokenId:t,audience:e}=this.data;return[this.prefix,t,e||""].join("::")}constructor(t,e){d(this,"prefix",void 0),d(this,"data",void 0),this.prefix=t,this.data=e,this.prefix=t,this.data=e}}let eA=function(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clerk",i=new Map;return{get:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=new eU(e,t),s=i.get(r.toKey());if(!s)return;let a=Math.floor(Date.now()/1e3)-s.createdAt;if(s.expiresIn-a<(n||1)+5){i.delete(r.toKey());return}return s.entry},set:n=>{let r=new eU(e,{audience:n.audience,tokenId:n.tokenId}).toKey(),s={entry:n,createdAt:Math.floor(Date.now()/1e3)},a=()=>{i.get(r)===s&&i.delete(r)};n.tokenResolver.then(e=>{if(!e.jwt)return a();let i=e.jwt.claims.exp-e.jwt.claims.iat;s.expiresIn=i,"function"==typeof(t=setTimeout(a,1e3*i)).unref&&t.unref()}).catch(()=>{a()}),i.set(r,s)},clear:()=>{clearTimeout(t),i.clear()},size:()=>i.size}}();class eO extends eb{static getInstance(){return eO.instance||(eO.instance=new eO),eO.instance}static isClientResource(t){return!!t&&t instanceof eO}get signUpAttempt(){return this.signUp}get signInAttempt(){return this.signIn}get activeSessions(){return this.sessions.filter(t=>"active"===t.status)}create(){return this._basePut()}fetch(){return this._baseGet()}async destroy(){return this._baseDelete({path:"/client"}).then(()=>{eA.clear(),this.id="",this.sessions=[],this.signUp=new i$(null),this.signIn=new iV(null),this.lastActiveSessionId=null,this.cookieExpiresAt=null,this.createdAt=null,this.updatedAt=null})}removeSessions(){return this._baseDelete({path:this.path()+"/sessions"})}clearCache(){return this.sessions.forEach(t=>t.clearCache())}isEligibleForTouch(){return!!this.cookieExpiresAt&&this.cookieExpiresAt.getTime()-Date.now()<=6912e5}buildTouchUrl(t){let{redirectUrl:e}=t;return eb.fapiClient.buildUrl({method:"GET",path:"/client/touch",pathPrefix:"v1",search:{redirect_url:e.toString()}}).toString()}sendCaptchaToken(t){return this._basePatch({body:t})}fromJSON(t){return t&&(this.id=t.id,this.sessions=(t.sessions||[]).map(t=>new iP(t)),this.signUp=new i$(t.sign_up),this.signIn=new iV(t.sign_in),this.lastActiveSessionId=t.last_active_session_id,this.cookieExpiresAt=t.cookie_expires_at?eS(t.cookie_expires_at):null,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}path(){return this.pathRoot}constructor(t=null){super(),d(this,"pathRoot","/client"),d(this,"sessions",[]),d(this,"signUp",new i$),d(this,"signIn",new iV),d(this,"lastActiveSessionId",null),d(this,"cookieExpiresAt",null),d(this,"createdAt",null),d(this,"updatedAt",null),this.fromJSON(t)}}d(eO,"instance",void 0);class eI{fromJSON(t){return t&&(this.object=t.object,this.id=t.id,this.slug=t.slug,this.deleted=t.deleted),this}constructor(t){d(this,"object",""),d(this,"id",void 0),d(this,"slug",void 0),d(this,"deleted",!1),this.fromJSON(t)}}class eC extends eb{fromJSON(t){return t&&(this.id=t.id,this.instanceEnvironmentType=t.instance_environment_type,this.applicationName=t.application_name,this.theme=t.theme,this.preferredSignInStrategy=t.preferred_sign_in_strategy,this.logoImageUrl=t.logo_image_url,this.faviconImageUrl=t.favicon_image_url,this.homeUrl=t.home_url,this.signInUrl=t.sign_in_url,this.signUpUrl=t.sign_up_url,this.userProfileUrl=t.user_profile_url,this.afterSignInUrl=t.after_sign_in_url,this.afterSignUpUrl=t.after_sign_up_url,this.afterSignOutOneUrl=t.after_sign_out_one_url,this.afterSignOutAllUrl=t.after_sign_out_all_url,this.afterSwitchSessionUrl=t.after_switch_session_url,this.branded=t.branded,this.captchaPublicKey=t.captcha_public_key,this.captchaWidgetType=t.captcha_widget_type,this.captchaProvider=t.captcha_provider,this.captchaPublicKeyInvisible=t.captcha_public_key_invisible,this.captchaOauthBypass=t.captcha_oauth_bypass||["oauth_google","oauth_microsoft","oauth_apple"],this.captchaHeartbeat=t.captcha_heartbeat||!1,this.captchaHeartbeatIntervalMs=t.captcha_heartbeat_interval_ms,this.supportEmail=t.support_email||"",this.clerkJSVersion=t.clerk_js_version,this.organizationProfileUrl=t.organization_profile_url,this.createOrganizationUrl=t.create_organization_url,this.afterLeaveOrganizationUrl=t.after_leave_organization_url,this.afterCreateOrganizationUrl=t.after_create_organization_url,this.googleOneTapClientId=t.google_one_tap_client_id,this.showDevModeWarning=t.show_devmode_warning,this.termsUrl=t.terms_url,this.privacyPolicyUrl=t.privacy_policy_url,this.waitlistUrl=t.waitlist_url,this.afterJoinWaitlistUrl=t.after_join_waitlist_url),this}constructor(t){super(),d(this,"id",void 0),d(this,"afterSignInUrl",void 0),d(this,"afterSignOutAllUrl",void 0),d(this,"afterSignOutOneUrl",void 0),d(this,"afterSignOutUrl",void 0),d(this,"afterSignUpUrl",void 0),d(this,"afterSwitchSessionUrl",void 0),d(this,"applicationName",void 0),d(this,"backendHost",void 0),d(this,"branded",void 0),d(this,"captchaPublicKey",null),d(this,"captchaWidgetType",null),d(this,"captchaProvider","turnstile"),d(this,"captchaPublicKeyInvisible",null),d(this,"captchaOauthBypass",[]),d(this,"captchaHeartbeat",!1),d(this,"captchaHeartbeatIntervalMs",void 0),d(this,"homeUrl",void 0),d(this,"instanceEnvironmentType",void 0),d(this,"faviconImageUrl",void 0),d(this,"logoImageUrl",void 0),d(this,"preferredSignInStrategy",void 0),d(this,"signInUrl",void 0),d(this,"signUpUrl",void 0),d(this,"supportEmail",void 0),d(this,"theme",void 0),d(this,"userProfileUrl",void 0),d(this,"clerkJSVersion",void 0),d(this,"experimental__forceOauthFirst",void 0),d(this,"organizationProfileUrl",void 0),d(this,"createOrganizationUrl",void 0),d(this,"afterLeaveOrganizationUrl",void 0),d(this,"afterCreateOrganizationUrl",void 0),d(this,"googleOneTapClientId",void 0),d(this,"showDevModeWarning",void 0),d(this,"termsUrl",void 0),d(this,"privacyPolicyUrl",void 0),d(this,"waitlistUrl",void 0),d(this,"afterJoinWaitlistUrl",void 0),this.fromJSON(t)}}var eP='const respond=r=>{self.postMessage(r)},workerToTabIds={};self.addEventListener("message",r=>{const e=r.data;switch(e.type){case"setTimeout":workerToTabIds[e.id]=setTimeout(()=>{respond({id:e.id})},e.ms);break;case"clearTimeout":workerToTabIds[e.id]&&(clearTimeout(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break;case"setInterval":workerToTabIds[e.id]=setInterval(()=>{respond({id:e.id})},e.ms);break;case"clearInterval":workerToTabIds[e.id]&&(clearInterval(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break}});\n',eE=(t,e={})=>{if("undefined"==typeof Worker)return null;try{let i=new Blob([t],{type:"application/javascript; charset=utf-8"}),n=globalThis.URL.createObjectURL(i);return new Worker(n,e)}catch(t){return console.warn("Clerk: Cannot create worker from blob. Consider adding worker-src blob:; to your CSP"),null}},eT=()=>{let t=globalThis.setTimeout.bind(globalThis),e=globalThis.setInterval.bind(globalThis);return{setTimeout:t,setInterval:e,clearTimeout:globalThis.clearTimeout.bind(globalThis),clearInterval:globalThis.clearInterval.bind(globalThis),cleanup:tg}},eR=()=>{let t=0,e=()=>t++,i=new Map,n=(t,e)=>null==t?void 0:t.postMessage(e),r=t=>{var e;null==(e=i.get(t.data.id))||e()},s=eE(eP,{name:"clerk-timers"});if(null==s||s.addEventListener("message",r),!s)return eT();let a=()=>{s||null==(s=eE(eP,{name:"clerk-timers"}))||s.addEventListener("message",r)};return{setTimeout:(t,r)=>{a();let o=e();return i.set(o,t),n(s,{type:"setTimeout",id:o,ms:r}),o},setInterval:(t,r)=>{a();let o=e();return i.set(o,t),n(s,{type:"setInterval",id:o,ms:r}),o},clearTimeout:t=>{a(),i.delete(t),n(s,{type:"clearTimeout",id:t})},clearInterval:t=>{a(),i.delete(t),n(s,{type:"clearInterval",id:t})},cleanup:()=>{s&&(s.terminate(),s=null,i.clear())}}};function ex({delayInMs:t}={delayInMs:1e3}){let e;let i=eR(),n=!1,r=()=>{e&&(i.clearTimeout(e),i.cleanup()),n=!0},s=async a=>{n=!1,await a(r),!n&&(e=i.setTimeout(()=>{s(a)},t))};return{run:s,stop:r}}class eM extends eb{create(){return this._basePost({body:{email_address:this.emailAddress}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.verification=new eq(t.verification),this.linkedTo=(t.linked_to||[]).map(t=>new eZ(t))),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"emailAddress",""),d(this,"linkedTo",[]),d(this,"verification",void 0),d(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),d(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),d(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=ex();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return this.id||ef("SignUp"),await this.prepareVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{"verified"===t.verification.status&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),d(this,"destroy",()=>this._baseDelete()),d(this,"toString",()=>this.emailAddress),this.pathRoot=e,this.fromJSON(t)}}class eW extends eb{fromJSON(t){let{enabled:e=!1,max_allowed_memberships:i=0,actions:n,domains:r}=t||{};return this.enabled=e,this.maxAllowedMemberships=i,this.actions={adminDelete:(null==n?void 0:n.admin_delete)||!1},this.domains={enabled:(null==r?void 0:r.enabled)||!1,enrollmentModes:(null==r?void 0:r.enrollment_modes)||[],defaultRole:(null==r?void 0:r.default_role)||null},this}constructor(t){super(),d(this,"enabled",void 0),d(this,"maxAllowedMemberships",void 0),d(this,"actions",void 0),d(this,"domains",void 0),this.fromJSON(t)}}class ez extends eb{static getInstance(){return ez.instance||(ez.instance=new ez),ez.instance}fetch(){let{touch:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{touch:!1};return t?this._basePatch({}):this._baseGet()}fromJSON(t){return t&&(this.authConfig=new ek(t.auth_config),this.displayConfig=new eC(t.display_config),this.userSettings=new ey(t.user_settings),this.organizationSettings=new eW(t.organization_settings),this.maintenanceMode=t.maintenance_mode),this}constructor(t=null){super(),d(this,"pathRoot","/environment"),d(this,"authConfig",void 0),d(this,"displayConfig",void 0),d(this,"userSettings",void 0),d(this,"organizationSettings",void 0),d(this,"maintenanceMode",void 0),d(this,"isSingleSession",()=>this.authConfig.singleSessionMode),d(this,"isProduction",()=>"production"===this.displayConfig.instanceEnvironmentType),d(this,"isDevelopmentOrStaging",()=>!this.isProduction()),d(this,"onWindowLocationHost",()=>this.displayConfig.backendHost===window.location.host),this.fromJSON(t)}}d(ez,"instance",void 0);class eN{static encode(t){return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(t){let e=atob(t.replace(/-/g,"+").replace(/_/g,"/")),i=e.length,n=new Uint8Array(i);for(let t=0;t<i;t++)n[t]=e.charCodeAt(t);return n.buffer}}async function eF(t){try{let e=await navigator.credentials.create({publicKey:t});if(!e)return{error:new K.RK("Browser failed to create credential",{code:"passkey_registration_failed"}),publicKeyCredential:null};return{publicKeyCredential:e,error:null}}catch(t){var e;return{error:"InvalidStateError"===(e=t).name?new K.RK(e.message,{code:"passkey_already_exists"}):"NotAllowedError"===e.name?new K.RK(e.message,{code:"passkey_registration_cancelled"}):ej(e),publicKeyCredential:null}}}let eL=new class{__abort(){if(!this.controller)return;let t=Error();t.name="AbortError",this.controller.abort(t)}createAbortSignal(){this.__abort();let t=new AbortController;return this.controller=t,t.signal}abort(){this.__abort(),this.controller=void 0}constructor(){d(this,"controller",void 0)}};async function eD(t){let{publicKeyOptions:e,conditionalUI:i}=t;try{let t=await navigator.credentials.get({publicKey:e,mediation:i?"conditional":"optional",signal:eL.createAbortSignal()});if(!t)return{error:new K.RK("Browser failed to get credential",{code:"passkey_retrieval_failed"}),publicKeyCredential:null};return{publicKeyCredential:t,error:null}}catch(t){var n;return{error:"NotAllowedError"===(n=t).name?new K.RK(n.message,{code:"passkey_retrieval_cancelled"}):ej(n),publicKeyCredential:null}}}function ej(t){return"AbortError"===t.name?new K.RK(t.message,{code:"passkey_operation_aborted"}):"SecurityError"===t.name?new K.RK(t.message,{code:"passkey_invalid_rpID_or_domain"}):t}function eJ(t){return{type:t.type,id:t.id,rawId:eK(t.rawId),authenticatorAttachment:t.authenticatorAttachment}}let eK=eN.encode.bind(eN),eV=eN.decode.bind(eN);class eq extends eb{fromJSON(t){return t&&(this.status=t.status,this.verifiedAtClient=t.verified_at_client,this.strategy=t.strategy,this.nonce=t.nonce||null,this.message=t.message||null,t.external_verification_redirect_url?this.externalVerificationRedirectURL=new URL(t.external_verification_redirect_url):this.externalVerificationRedirectURL=null,this.attempts=t.attempts,this.expireAt=eS(t.expire_at),this.error=t.error?(0,K.nU)(t.error):null),this}constructor(t){super(),d(this,"pathRoot",""),d(this,"status",null),d(this,"strategy",null),d(this,"nonce",null),d(this,"message",null),d(this,"externalVerificationRedirectURL",null),d(this,"attempts",null),d(this,"expireAt",null),d(this,"error",null),d(this,"verifiedAtClient",null),d(this,"verifiedFromTheSameClient",()=>{var t,e;return this.verifiedAtClient===(null===(e=eb.clerk)||void 0===e?void 0:null===(t=e.client)||void 0===t?void 0:t.id)}),this.fromJSON(t)}}class eB extends eq{fromJSON(t){return super.fromJSON(t),(null==t?void 0:t.nonce)&&(this.publicKey=function(t){let e=eV(t.user.id),i=eV(t.challenge),n=(t.excludeCredentials||[]).map(t=>({...t,id:eV(t.id)}));return{...t,excludeCredentials:n,challenge:i,user:{...t.user,id:e}}}(JSON.parse(t.nonce))),this}constructor(t){super(t),d(this,"publicKey",null),this.fromJSON(t)}}class e${constructor(t){d(this,"emailAddress",void 0),d(this,"phoneNumber",void 0),d(this,"web3Wallet",void 0),d(this,"externalAccount",void 0),t?(this.emailAddress=new eG(t.email_address),this.phoneNumber=new eG(t.phone_number),this.web3Wallet=new eG(t.web3_wallet),this.externalAccount=new eq(t.external_account)):(this.emailAddress=new eG(null),this.phoneNumber=new eG(null),this.web3Wallet=new eG(null),this.externalAccount=new eq(null))}}class eG extends eq{constructor(t){super(t),d(this,"nextAction",void 0),d(this,"supportedStrategies",void 0),t?(this.nextAction=t.next_action,this.supportedStrategies=t.supported_strategies):(this.nextAction="",this.supportedStrategies=[])}}class eH extends eb{fromJSON(t){return t&&(this.id=t.id,this.identificationId=t.identification_id,this.providerUserId=t.provider_user_id,this.approvedScopes=t.approved_scopes,this.imageUrl=t.image_url,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.provider=(t.provider||"").replace("oauth_",""),this.username=t.username,this.publicMetadata=t.public_metadata,this.label=t.label,t.verification&&(this.verification=new eq(t.verification))),this}providerSlug(){return this.provider}providerTitle(){return[function(t){let e=t||"";return e.charAt(0).toUpperCase()+e.slice(1)}(this.providerSlug()),"Account"].join(" ")}accountIdentifier(){return this.username||this.emailAddress||this.label}constructor(t,e){super(),d(this,"id",void 0),d(this,"identificationId",void 0),d(this,"provider",void 0),d(this,"providerUserId",""),d(this,"emailAddress",""),d(this,"approvedScopes",""),d(this,"firstName",""),d(this,"lastName",""),d(this,"imageUrl",""),d(this,"username",""),d(this,"publicMetadata",{}),d(this,"label",""),d(this,"verification",null),d(this,"reauthorize",t=>{let{additionalScopes:e,redirectUrl:i}=t||{};return this._basePatch({action:"reauthorize",body:{additional_scope:e,redirect_url:i}})}),d(this,"destroy",()=>this._baseDelete()),this.pathRoot=e,this.fromJSON(t)}}class eY extends eb{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.protocol=t.protocol,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,this.publicMetadata=t.public_metadata,t.verification&&(this.verification=new eq(t.verification)),t.enterprise_connection&&(this.enterpriseConnection=new eQ(t.enterprise_connection))),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"protocol",void 0),d(this,"provider",void 0),d(this,"providerUserId",null),d(this,"active",void 0),d(this,"emailAddress",""),d(this,"firstName",""),d(this,"lastName",""),d(this,"publicMetadata",{}),d(this,"verification",null),d(this,"enterpriseConnection",null),this.pathRoot=e,this.fromJSON(t)}}class eQ extends eb{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.logoPublicUrl=t.logo_public_url,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"active",void 0),d(this,"allowIdpInitiated",void 0),d(this,"allowSubdomains",void 0),d(this,"disableAdditionalIdentifications",void 0),d(this,"domain",void 0),d(this,"logoPublicUrl",""),d(this,"name",void 0),d(this,"protocol",void 0),d(this,"provider",void 0),d(this,"syncUserAttributes",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),this.fromJSON(t)}}class eZ extends eb{fromJSON(t){return t&&(this.id=t.id,this.type=t.type),this}constructor(t){super(),d(this,"id",void 0),d(this,"type",void 0),this.fromJSON(t)}}class eX extends eb{static async create(t){var e;let i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n;return"string"==typeof n.file?(r=n.file,i=new Headers({"Content-Type":"application/octet-stream"})):n.file&&(r=new FormData).append("file",n.file),new eX(null===(e=await eb._fetch({path:t,method:"POST",body:r,headers:i}))||void 0===e?void 0:e.response)}static async delete(t){var e;return new eX(null===(e=await eb._fetch({path:t,method:"DELETE"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.publicUrl=t.public_url),this}constructor(t){super(),d(this,"id",void 0),d(this,"name",null),d(this,"publicUrl",null),this.fromJSON(t)}}class e0 extends eb{fromJSON(t){return t&&(this.id=t.id,this.phoneNumber=t.phone_number,this.reservedForSecondFactor=t.reserved_for_second_factor,this.defaultSecondFactor=t.default_second_factor,this.verification=new eq(t.verification),this.linkedTo=(t.linked_to||[]).map(t=>new eZ(t)),this.backupCodes=t.backup_codes),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"phoneNumber",""),d(this,"reservedForSecondFactor",!1),d(this,"defaultSecondFactor",!1),d(this,"linkedTo",[]),d(this,"verification",void 0),d(this,"backupCodes",void 0),d(this,"create",()=>this._basePost({body:{phone_number:this.phoneNumber}})),d(this,"prepareVerification",()=>this._basePost({action:"prepare_verification",body:{strategy:"phone_code"}})),d(this,"attemptVerification",t=>{let{code:e}=t||{};return this._basePost({action:"attempt_verification",body:{code:e}})}),d(this,"setReservedForSecondFactor",t=>{let{reserved:e}=t||{};return this._basePatch({body:{reserved_for_second_factor:e}})}),d(this,"makeDefaultSecondFactor",()=>this._basePatch({body:{default_second_factor:!0}})),d(this,"destroy",()=>this._baseDelete()),d(this,"toString",()=>{let t=this.phoneNumber.match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:this.phoneNumber}),this.pathRoot=e,this.fromJSON(t)}}function e1(t){let{pageSize:e,initialPage:i,...n}=t||{},r=null!=e?e:10;return new URLSearchParams({...Object.entries(n).reduce((t,[e,i])=>(void 0!==i&&(t[e]=i),t),{}),limit:r+"",offset:((null!=i?i:1)-1)*r+""})}class e3 extends eb{static async create(t,e){var i;let{name:n}=e;return new e3(null===(i=await eb._fetch({path:"/organizations/".concat(t,"/domains"),method:"POST",body:{name:n}}))||void 0===i?void 0:i.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.organizationId=t.organization_id,this.enrollmentMode=t.enrollment_mode,this.affiliationEmailAddress=t.affiliation_email_address,this.totalPendingSuggestions=t.total_pending_suggestions,this.totalPendingInvitations=t.total_pending_invitations,t.verification?this.verification={status:t.verification.status,strategy:t.verification.strategy,attempts:t.verification.attempts,expiresAt:eS(t.verification.expires_at)}:this.verification=null),this}constructor(t){super(),d(this,"id",void 0),d(this,"name",void 0),d(this,"organizationId",void 0),d(this,"enrollmentMode",void 0),d(this,"verification",void 0),d(this,"affiliationEmailAddress",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"totalPendingInvitations",void 0),d(this,"totalPendingSuggestions",void 0),d(this,"prepareAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/prepare_affiliation_verification"),method:"POST",body:t})),d(this,"attemptAffiliationVerification",async t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/attempt_affiliation_verification"),method:"POST",body:t})),d(this,"updateEnrollmentMode",t=>this._basePost({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id,"/update_enrollment_mode"),body:t})),d(this,"delete",()=>this._baseDelete({path:"/organizations/".concat(this.organizationId,"/domains/").concat(this.id)})),this.fromJSON(t)}}class e2 extends eb{fromJSON(t){return t&&(this.id=t.id,this.organizationId=t.organization_id,this.status=t.status,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at),t.public_user_data&&(this.publicUserData=new iW(t.public_user_data))),this}constructor(t){super(),d(this,"id",void 0),d(this,"organizationId",void 0),d(this,"status",void 0),d(this,"publicUserData",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"accept",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/accept")})),d(this,"reject",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/membership_requests/").concat(this.id,"/reject")})),this.fromJSON(t)}}class e5 extends eb{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.type=t.type,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"key",void 0),d(this,"name",void 0),d(this,"description",void 0),d(this,"type",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),this.fromJSON(t)}}class e9 extends eb{fromJSON(t){return t&&(this.id=t.id,this.key=t.key,this.name=t.name,this.description=t.description,this.permissions=t.permissions.map(t=>new e5(t)),this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"key",void 0),d(this,"name",void 0),d(this,"description",void 0),d(this,"permissions",[]),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),this.fromJSON(t)}}class e6 extends eb{static async create(t){var e;return new e6(null===(e=await eb._fetch({path:"/organizations",method:"POST",body:t}))||void 0===e?void 0:e.response)}static async get(t){var e;return new e6(null===(e=await eb._fetch({path:"/organizations/".concat(t),method:"GET"}))||void 0===e?void 0:e.response)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.slug=t.slug,this.imageUrl=t.image_url,this.hasImage=t.has_image,this.publicMetadata=t.public_metadata,this.membersCount=t.members_count,this.pendingInvitationsCount=t.pending_invitations_count,this.maxAllowedMemberships=t.max_allowed_memberships,this.adminDeleteEnabled=t.admin_delete_enabled,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}async reload(t){var e;let{rotatingTokenNonce:i}=t||{},n=null===(e=await eb._fetch({path:"/organizations/".concat(this.id),method:"GET",rotatingTokenNonce:i},{forceUpdateClient:!0}))||void 0===e?void 0:e.response;return this.fromJSON(n)}constructor(t){super(),d(this,"pathRoot","/organizations"),d(this,"id",void 0),d(this,"name",void 0),d(this,"slug",void 0),d(this,"imageUrl",void 0),d(this,"hasImage",void 0),d(this,"publicMetadata",{}),d(this,"adminDeleteEnabled",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"membersCount",0),d(this,"pendingInvitationsCount",0),d(this,"maxAllowedMemberships",void 0),d(this,"update",async t=>this._basePatch({body:t})),d(this,"getRoles",async t=>await eb._fetch({path:"/organizations/".concat(this.id,"/roles"),method:"GET",search:e1(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e9(t))}})),d(this,"getDomains",async t=>await eb._fetch({path:"/organizations/".concat(this.id,"/domains"),method:"GET",search:e1(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e3(t))}})),d(this,"getDomain",async t=>{var e;let{domainId:i}=t;return new e3(null===(e=await eb._fetch({path:"/organizations/".concat(this.id,"/domains/").concat(i),method:"GET"}))||void 0===e?void 0:e.response)}),d(this,"getMembershipRequests",async t=>await eb._fetch({path:"/organizations/".concat(this.id,"/membership_requests"),method:"GET",search:e1(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e2(t))}})),d(this,"createDomain",async t=>e3.create(this.id,{name:t})),d(this,"getMemberships",async t=>await eb._fetch({path:"/organizations/".concat(this.id,"/memberships"),method:"GET",search:e1({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e8(t))}})),d(this,"getInvitations",async t=>await eb._fetch({path:"/organizations/".concat(this.id,"/invitations"),method:"GET",search:e1(t)},{forceUpdateClient:!0}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e4(t))}})),d(this,"addMember",async t=>{let{userId:e,role:i}=t;return await eb._fetch({method:"POST",path:"/organizations/".concat(this.id,"/memberships"),body:{userId:e,role:i}}).then(t=>new e8(null==t?void 0:t.response))}),d(this,"inviteMember",async t=>e4.create(this.id,t)),d(this,"inviteMembers",async t=>e4.createBulk(this.id,t)),d(this,"updateMember",async t=>{let{userId:e,role:i}=t;return await eb._fetch({method:"PATCH",path:"/organizations/".concat(this.id,"/memberships/").concat(e),body:{role:i}}).then(t=>new e8(null==t?void 0:t.response))}),d(this,"removeMember",async t=>await eb._fetch({method:"DELETE",path:"/organizations/".concat(this.id,"/memberships/").concat(t)}).then(t=>new e8(null==t?void 0:t.response))),d(this,"destroy",async()=>this._baseDelete()),d(this,"setLogo",async t=>{let e,i,{file:n}=t;return null===n?await eb._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"DELETE"}).then(t=>new e6(null==t?void 0:t.response)):("string"==typeof n?(e=n,i=new Headers({"Content-Type":"application/octet-stream"})):(e=new FormData).append("file",n),await eb._fetch({path:"/organizations/".concat(this.id,"/logo"),method:"PUT",body:e,headers:i}).then(t=>new e6(null==t?void 0:t.response)))}),this.fromJSON(t)}}class e4 extends eb{static async create(t,e){var i;let{emailAddress:n,role:r}=e;return new e4(null===(i=await eb._fetch({path:"/organizations/".concat(t,"/invitations"),method:"POST",body:{email_address:n,role:r}}))||void 0===i?void 0:i.response)}static async createBulk(t,e){var i;let{emailAddresses:n,role:r}=e;return(null===(i=await eb._fetch({path:"/organizations/".concat(t,"/invitations/bulk"),method:"POST",body:{email_address:n,role:r}}))||void 0===i?void 0:i.response).map(t=>new e4(t))}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.organizationId=t.organization_id,this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"emailAddress",void 0),d(this,"organizationId",void 0),d(this,"publicMetadata",{}),d(this,"status",void 0),d(this,"role",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"revoke",async()=>await this._basePost({path:"/organizations/".concat(this.organizationId,"/invitations/").concat(this.id,"/revoke")})),this.fromJSON(t)}}class e8 extends eb{fromJSON(t){return t&&(this.id=t.id,this.organization=new e6(t.organization),this.publicMetadata=t.public_metadata,t.public_user_data&&(this.publicUserData=new iW(t.public_user_data)),this.permissions=Array.isArray(t.permissions)?[...t.permissions]:[],this.role=t.role,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}reload(t){!function(t){throw Error("".concat(eh," Calling ").concat(t,".reload is not currently supported. Please contact support."))}("OrganizationMembership")}constructor(t){super(),d(this,"id",void 0),d(this,"publicMetadata",{}),d(this,"publicUserData",void 0),d(this,"organization",void 0),d(this,"permissions",[]),d(this,"role",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"destroy",async()=>await this._baseDelete({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId)})),d(this,"update",async t=>{let{role:e}=t;return await this._basePatch({path:"/organizations/".concat(this.organization.id,"/memberships/").concat(this.publicUserData.userId),body:{role:e}})}),this.fromJSON(t)}}d(e8,"retrieve",async t=>await eb._fetch({path:"/me/organization_memberships",method:"GET",search:e1({...t,paginated:!0})}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e8(t))}}));class e7 extends eb{static async retrieve(t){return await eb._fetch({path:"/me/organization_suggestions",method:"GET",search:e1(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new e7(t))}})}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"publicOrganizationData",void 0),d(this,"status",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"accept",async()=>await this._basePost({path:"/me/organization_suggestions/".concat(this.id,"/accept")})),this.fromJSON(t)}}class it extends eb{fromJSON(t){return t&&(this.id=t.id,this.provider=t.provider,this.providerUserId=t.provider_user_id,this.active=t.active,this.emailAddress=t.email_address,this.firstName=t.first_name,this.lastName=t.last_name,t.verification&&(this.verification=new eq(t.verification)),t.saml_connection&&(this.samlConnection=new ie(t.saml_connection))),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"provider","saml_custom"),d(this,"providerUserId",null),d(this,"active",!1),d(this,"emailAddress",""),d(this,"firstName",""),d(this,"lastName",""),d(this,"verification",null),d(this,"samlConnection",null),this.pathRoot=e,this.fromJSON(t)}}class ie extends eb{fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.domain=t.domain,this.active=t.active,this.provider=t.provider,this.syncUserAttributes=t.sync_user_attributes,this.allowSubdomains=t.allow_subdomains,this.allowIdpInitiated=t.allow_idp_initiated,this.disableAdditionalIdentifications=t.disable_additional_identifications,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"name",void 0),d(this,"domain",void 0),d(this,"active",void 0),d(this,"provider",void 0),d(this,"syncUserAttributes",void 0),d(this,"allowSubdomains",void 0),d(this,"allowIdpInitiated",void 0),d(this,"disableAdditionalIdentifications",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),this.fromJSON(t)}}function ii(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function ir(t,e){o(t,e),e.add(t)}var is=i("9996");let ia={TokenUpdate:"token:update"},io=(()=>{let t=new Map;return{on:(e,i)=>{var n;t.get(e)||t.set(e,[]),null===(n=t.get(e))||void 0===n||n.push(i)},dispatch:(e,i)=>{(t.get(e)||[]).forEach(t=>"function"==typeof t&&t(i))},off:(e,i)=>{let n=t.get(e)||[];n.length&&(i&&t.set(e,n.filter(t=>t!==i)),t.set(e,[]))}}})();async function il(t="",e){let{async:i,defer:n,beforeLoad:r,crossOrigin:s,nonce:a}=e||{};return tm(()=>new Promise((e,o)=>{t||o("loadScript cannot be called without a src"),document&&document.body||o("loadScript cannot be called when document does not exist");let l=document.createElement("script");s&&l.setAttribute("crossorigin",s),l.async=i||!1,l.defer=n||!1,l.addEventListener("load",()=>{l.remove(),e(l)}),l.addEventListener("error",()=>{l.remove(),o()}),l.src=t,l.nonce=a,null==r||r(l),document.body.appendChild(l)}),{shouldRetry:(t,e)=>e<5})}let ic="clerk-captcha",ih="clerk-invisible-captcha",id=t=>!!["crashed","undefined_error","102","103","104","106","110600","300","600"].find(e=>t.startsWith(e));async function iu(t){return window.turnstile||await ip().catch(()=>im(t)).catch(()=>{throw{captchaError:"captcha_script_failed_to_load"}}),window.turnstile}async function ip(){try{return await il("https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",{defer:!0})}catch(t){throw console.warn("Clerk: Failed to load the CAPTCHA script from Cloudflare. If you see a CSP error in your browser, please add the necessary CSP rules to your app. Visit https://clerk.com/docs/security/clerk-csp for more information."),t}}async function im(t){try{return await il(t,{defer:!0})}catch(e){throw console.error("Clerk: Failed to load the CAPTCHA script from the URL: ",t),e}}let iv=async t=>{let e;let{siteKey:i,scriptUrl:n,widgetType:r,invisibleSiteKey:s}=t,{modalContainerQuerySelector:a,modalWrapperQuerySelector:o,closeModal:l,openModal:c}=t,h=await iu(n),d=[],u="",p="",f=i,m=0,v=null;if(a&&o)v=r,e=a,await (null==c?void 0:c()),await new Promise(t=>{if(document.querySelector(a))return t(document.querySelector(a));let e=new MutationObserver(()=>{document.querySelector(a)&&(e.disconnect(),t(document.querySelector(a)))});e.observe(document.body,{childList:!0,subtree:!0})});if(!e&&"smart"===r){let t=document.getElementById(ic);t?(v="smart",e="#".concat(ic),t.style.display="block"):console.error("Cannot initialize Smart CAPTCHA widget because the `clerk-captcha` DOM element was not found; falling back to Invisible CAPTCHA widget. If you are using a custom flow, visit https://clerk.com/docs/custom-flows/bot-sign-up-protection for instructions")}if(!e){f=s,v="invisible",e=".".concat(ih);let t=document.createElement("div");t.classList.add(ih),document.body.appendChild(t)}let g=async()=>new Promise((t,i)=>{try{let n=h.render(e,{sitekey:f,appearance:"interaction-only",retry:"never","refresh-expired":"auto",callback:function(e){null==l||l(),t([e,n])},"before-interactive-callback":async()=>{if(o){let t=document.querySelector(o);null==t||t.style.setProperty("visibility","visible"),null==t||t.style.setProperty("pointer-events","all");return}},"error-callback":function(t){if(d.push(t),m<2&&id(t.toString())){setTimeout(()=>{h.reset(n),m++},250);return}i([d.join(","),n])},"unsupported-callback":function(){return i(["This browser is not supported by the CAPTCHA.",n]),!0}})}catch(t){i([t,void 0])}});try{[u,p]=await g(),h.remove(p)}catch(i){let[t,e]=i;throw e&&h.remove(e),{captchaError:t}}finally{null==l||l();let t=document.querySelector(".".concat(ih));t&&document.body.removeChild(t);let e=document.getElementById(ic);e&&(e.style.display="none")}return{captchaToken:u,captchaWidgetType:v}},ig=t=>iv(t),iw="__clerk_synced",i_="__clerk_satellite_url",ib={FORM_IDENTIFIER_NOT_FOUND:"form_identifier_not_found"},iy=["/client","/waitlist"];function ik(t){let e=[],i=[];async function n(t){for await(let i of["undefined"!=typeof window&&window.__unstable__onBeforeRequest,...e].filter(t=>t))if(await i(t)===!1)return!1;return!0}async function r(t,e){for await(let n of["undefined"!=typeof window&&window.__unstable__onAfterResponse,...i].filter(t=>t))if(await n(t,e)===!1)return!1;return!0}function s(e){let{method:i,path:n,sessionId:r,search:s,rotatingTokenNonce:a}=e,o=new URLSearchParams(s);return o.append("__clerk_api_version","2021-02-05"),t.version&&o.append("_clerk_js_version",t.version),a&&o.append("rotating_token_nonce",a),"development"===t.instanceType&&t.isSatellite&&o.append("__domain",t.domain),i&&"GET"!==i&&"POST"!==i&&o.append("_method",i),n&&!iy.some(t=>n.startsWith(t))&&r&&o.append("_clerk_session_id",r),tN([...o.entries()].reduce((t,e)=>{let[i,n]=e;return t[i]=n.includes(",")?n.split(","):n,t},{}))}function a(e){let{path:i,pathPrefix:n="v1"}=e,{proxyUrl:r,domain:a,frontendApi:o,instanceType:l}=t;if(r){let t=new URL(r),a=t.pathname.slice(1,t.pathname.length);return tK({base:t.origin,pathname:"".concat(a,"/").concat(n).concat(i),search:s(e)},{stringify:!1})}return tK({base:"https://".concat(("production"===l?a:"")||o),pathname:"".concat(n).concat(i),search:s(e)},{stringify:!1})}async function o(e){var i;let s;let{method:o="GET",body:l}=e;e.url=a({...e,sessionId:null===(i=t.session)||void 0===i?void 0:i.id}),e.headers||(e.headers=new Headers),"GET"===o||l instanceof FormData||e.headers.has("content-type")||e.headers.set("content-type","application/x-www-form-urlencoded"),"application/x-www-form-urlencoded"===e.headers.get("content-type")&&(e.body=l?tN(l,{keyEncoder:tr}):l);let c=await n(e),h="GET"===o?"GET":"POST",d=e.url.toString(),u={...e,credentials:"include",method:h};try{if(c){let t=N()?4:11;s="GET"===h?await tm(()=>fetch(d,u),{firstDelay:500,maxDelay:3e3,shouldRetry:(e,i)=>i<t}):await fetch(d,u)}else s=new Response("{}",e)}catch(t){!function(t,e){throw Error("".concat(eh,' Network error at "').concat(t,'" - ').concat(e,". Please try again."))}(d,t)}let p=await s.json(),f=Object.assign(s,{payload:p});return await r(e,f),f}return{buildEmailAddress:function(e){return function(t){let{localPart:e,frontendApi:i}=t,n=i?i.replace("clerk.",""):"clerk.com";return"".concat(e,"@").concat(n)}({localPart:e,frontendApi:t.frontendApi})},buildUrl:a,onAfterResponse:function(t){i.push(t)},onBeforeRequest:function(t){e.push(t)},request:o}}let iS=t=>{let e=t.__unstable__environment,i=ik(t),n=e?e.displayConfig.captchaProvider:"turnstile";return{captchaSiteKey:e?e.displayConfig.captchaPublicKey:null,captchaWidgetType:e?e.displayConfig.captchaWidgetType:null,captchaProvider:n,captchaPublicKeyInvisible:e?e.displayConfig.captchaPublicKeyInvisible:null,canUseCaptcha:e?e.userSettings.signUp.captcha_enabled&&t.isStandardBrowser:null,captchaURL:i.buildUrl({path:"cloudflare/turnstile/v0/api.js",pathPrefix:"",search:"?render=explicit"}).toString()}};class iU{async invisible(){let{captchaSiteKey:t,canUseCaptcha:e,captchaURL:i,captchaPublicKeyInvisible:n}=iS(this.clerk);if(e&&t&&i&&n)return ig({siteKey:n,invisibleSiteKey:n,widgetType:"invisible",scriptUrl:i,captchaProvider:"turnstile"}).catch(t=>{if(t.captchaError)return{captchaError:t.captchaError}})}async managed(){let{captchaSiteKey:t,canUseCaptcha:e,captchaURL:i,captchaWidgetType:n,captchaProvider:r,captchaPublicKeyInvisible:s}=iS(this.clerk);return e&&t&&i&&s?ig({siteKey:t,widgetType:n,invisibleSiteKey:s,scriptUrl:i,captchaProvider:r,modalWrapperQuerySelector:"#cl-modal-captcha-wrapper",modalContainerQuerySelector:"#cl-modal-captcha-container",openModal:()=>this.clerk.__internal_openBlankCaptchaModal(),closeModal:()=>this.clerk.__internal_closeBlankCaptchaModal()}).catch(t=>{if(t.captchaError)return{captchaError:t.captchaError}}):{}}constructor(t){d(this,"clerk",void 0),this.clerk=t}}let iA=new class{async execute(t){this.inflightRequest&&await this.inflightRequest;let e=t();return this.inflightRequest=e,e.then(t=>(this.inflightRequest=null,t))}blockUntilReady(){return this.inflightRequest?this.inflightRequest.then(()=>null):Promise.resolve()}managedChallenge(t){return new iU(t).managed()}constructor(){d(this,"inflightRequest",null)}};class iO extends eb{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.session=new iP(t.session),this.level=t.level,this.supportedFirstFactors=ta(t.supported_first_factors),this.supportedSecondFactors=ta(t.supported_second_factors),this.firstFactorVerification=new eq(t.first_factor_verification),this.secondFactorVerification=new eq(t.second_factor_verification)),this}constructor(t=null){super(),d(this,"status",void 0),d(this,"level",void 0),d(this,"session",void 0),d(this,"supportedFirstFactors",[]),d(this,"supportedSecondFactors",[]),d(this,"firstFactorVerification",new eq(null)),d(this,"secondFactorVerification",new eq(null)),this.fromJSON(t)}}var iI=new WeakMap,iC=new WeakSet;class iP extends eb{static isSessionResource(t){return!!t&&t instanceof iP}fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.expireAt=eS(t.expire_at),this.abandonAt=eS(t.abandon_at),this.factorVerificationAge=t.factor_verification_age,this.lastActiveAt=eS(t.last_active_at),this.lastActiveOrganizationId=t.last_active_organization_id,this.actor=t.actor,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at),this.user=new iZ(t.user),t.public_user_data&&(this.publicUserData=new iW(t.public_user_data)),this.lastActiveToken=t.last_active_token?new iG(t.last_active_token):null),this}async _getToken(t){if(!this.user)return null;let{leewayInSeconds:e,template:i,skipCache:n=!1}=t||{},r=void 0===(null==t?void 0:t.organizationId)?this.lastActiveOrganizationId:null==t?void 0:t.organizationId;if(!i&&Number(e)>=60)throw Error("Leeway can not exceed the token lifespan (60 seconds)");let s=ii(this,iC,iE).call(this,i,r),a=n?void 0:eA.get({tokenId:s},e),o=!i&&r===this.lastActiveOrganizationId;if(a){let t=await a.tokenResolver;return o&&io.dispatch(ia.TokenUpdate,{token:t}),t.getRawString()||null}let l=i?"".concat(this.path(),"/tokens/").concat(i):"".concat(this.path(),"/tokens"),c=i?{}:{organizationId:r};await iA.blockUntilReady();let h=iG.create(l,c).catch(t=>{if((0,K.kD)(t)&&"requires_captcha"===t.errors[0].code)return iA.execute(async()=>{let t=await iA.managedChallenge(iP.clerk);return iG.create(l,{...c,...t})});throw t});return eA.set({tokenId:s,tokenResolver:h}),h.then(t=>(o&&io.dispatch(ia.TokenUpdate,{token:t}),t.getRawString()||null))}constructor(t){super(),ir(this,iC),d(this,"pathRoot","/client/sessions"),d(this,"id",void 0),d(this,"status",void 0),d(this,"lastActiveAt",void 0),d(this,"lastActiveToken",void 0),d(this,"lastActiveOrganizationId",void 0),d(this,"actor",void 0),d(this,"user",void 0),d(this,"publicUserData",void 0),d(this,"factorVerificationAge",null),d(this,"expireAt",void 0),d(this,"abandonAt",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"end",()=>(eA.clear(),this._basePost({action:"end"}))),d(this,"remove",()=>(eA.clear(),this._basePost({action:"remove"}))),d(this,"touch",()=>this._basePost({action:"touch",body:{active_organization_id:this.lastActiveOrganizationId}})),d(this,"clearCache",()=>eA.clear()),d(this,"getToken",async t=>tm(()=>this._getToken(t),{shouldRetry:(t,e)=>!(0,K.ix)(t)&&e<4})),d(this,"checkAuthorization",t=>{var e,i;let n=((null===(e=this.user)||void 0===e?void 0:e.organizationMemberships)||[]).find(t=>t.organization.id===this.lastActiveOrganizationId);return(0,is.Q)({userId:null===(i=this.user)||void 0===i?void 0:i.id,factorVerificationAge:this.factorVerificationAge,orgId:null==n?void 0:n.id,orgRole:null==n?void 0:n.role,orgPermissions:null==n?void 0:n.permissions})(t)}),l(this,iI,{writable:!0,value:t=>{t&&(eA.set({tokenId:ii(this,iC,iE).call(this),tokenResolver:Promise.resolve(t)}),io.dispatch(ia.TokenUpdate,{token:t}))}}),d(this,"startVerification",async t=>{var e;let{level:i}=t;return new iO(null===(e=await eb._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify"),body:{level:i}}))||void 0===e?void 0:e.response)}),d(this,"prepareFirstFactorVerification",async t=>{var e;let i;switch(t.strategy){case"email_code":i={emailAddressId:t.emailAddressId};break;case"phone_code":i={phoneNumberId:t.phoneNumberId,default:t.default};break;default:em("Session.prepareFirstFactorVerification",t.strategy)}return new iO(null===(e=await eb._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_first_factor"),body:{...i,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),d(this,"attemptFirstFactorVerification",async t=>{var e;return new iO(null===(e=await eb._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_first_factor"),body:{...t,strategy:t.strategy}}))||void 0===e?void 0:e.response)}),d(this,"prepareSecondFactorVerification",async t=>{var e;return new iO(null===(e=await eb._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/prepare_second_factor"),body:t}))||void 0===e?void 0:e.response)}),d(this,"attemptSecondFactorVerification",async t=>{var e;return new iO(null===(e=await eb._fetch({method:"POST",path:"/client/sessions/".concat(this.id,"/verify/attempt_second_factor"),body:t}))||void 0===e?void 0:e.response)}),this.fromJSON(t),a(this,iI).call(this,this.lastActiveToken)}}function iE(t,e){let i=void 0===e?this.lastActiveOrganizationId:e;return[this.id,t,i,this.updatedAt.getTime()].filter(Boolean).join("-")}function iT(){return z()&&"function"==typeof window.PublicKeyCredential}async function iR(){try{return iT()&&await window.PublicKeyCredential.isConditionalMediationAvailable()}catch(t){return!1}}async function ix(){try{return"undefined"!=typeof window&&await window.PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()}catch(t){return!1}}class iM extends eb{static async create(){return eb._fetch({path:"/me/passkeys",method:"POST"}).then(t=>new iM(null==t?void 0:t.response))}static async attemptVerification(t,e){let i=function(t){let e=t.response;return{...eJ(t),response:{clientDataJSON:eK(e.clientDataJSON),attestationObject:eK(e.attestationObject),transports:e.getTransports()}}}(e);return eb._fetch({path:"/me/passkeys/".concat(t,"/attempt_verification"),method:"POST",body:{strategy:"passkey",publicKeyCredential:JSON.stringify(i)}}).then(t=>new iM(null==t?void 0:t.response))}static async registerPasskey(){var t;let e=iM.clerk.__internal_isWebAuthnSupported||iT,i=iM.clerk.__internal_createPublicCredentials||eF,n=iM.clerk.__internal_isWebAuthnPlatformAuthenticatorSupported||ix;if(!e())throw new K.RK("Passkeys are not supported on this device.",{code:"passkey_not_supported"});let r=await this.create(),{verification:s}=r,a=null==s?void 0:s.publicKey;if(a||e_("create"),(null===(t=a.authenticatorSelection)||void 0===t?void 0:t.authenticatorAttachment)==="platform"&&!await n())throw new K.RK("Registration requires a platform authenticator but the device does not support it.",{code:"passkey_pa_not_supported"});let{publicKeyCredential:o,error:l}=await i(a);if(!o)throw l;return this.attemptVerification(r.id,o)}fromJSON(t){return t&&(this.id=t.id,this.name=t.name,this.lastUsedAt=t.last_used_at?eS(t.last_used_at):null,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at),t.verification&&(this.verification=new eB(t.verification))),this}constructor(t){super(),d(this,"id",void 0),d(this,"pathRoot","/me/passkeys"),d(this,"verification",null),d(this,"name",null),d(this,"lastUsedAt",null),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"update",t=>this._basePatch({body:t})),d(this,"delete",async()=>{var t;return new eI(null===(t=await eb._fetch({path:this.path(),method:"DELETE"}))||void 0===t?void 0:t.response)}),this.fromJSON(t)}}class iW{fromJSON(t){return t&&(this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=t.image_url,this.hasImage=t.has_image,this.identifier=t.identifier,this.userId=t.user_id),this}constructor(t){d(this,"firstName",void 0),d(this,"lastName",void 0),d(this,"imageUrl",void 0),d(this,"hasImage",void 0),d(this,"identifier",void 0),d(this,"userId",void 0),this.fromJSON(t)}}let iz=t=>({id:t.id,deviceType:t.device_type,browserName:t.browser_name,browserVersion:t.browser_version,country:t.country,city:t.city,isMobile:t.is_mobile,ipAddress:t.ip_address});class iN extends eb{static retrieve(){var t;let e=null===(t=eb.clerk.session)||void 0===t?void 0:t.id;return this.clerk.getFapiClient().request({method:"GET",path:"/me/sessions/active",sessionId:e}).then(t=>t.payload.map(t=>new iN(t,"/me/sessions"))).catch(()=>[])}revoke(){return this._basePost({action:"revoke",body:{}})}fromJSON(t){var e;return t&&(this.id=t.id,this.status=t.status,this.expireAt=eS(t.expire_at),this.abandonAt=eS(t.abandon_at),this.lastActiveAt=eS(t.last_active_at),this.latestActivity=iz(null!==(e=t.latest_activity)&&void 0!==e?e:{}),this.actor=t.actor),this}constructor(t,e){super(),d(this,"pathRoot",""),d(this,"id",void 0),d(this,"status",void 0),d(this,"abandonAt",void 0),d(this,"expireAt",void 0),d(this,"lastActiveAt",void 0),d(this,"latestActivity",void 0),d(this,"actor",void 0),this.pathRoot=e,this.fromJSON(t)}}let iF=()=>Promise.all([i.e("708").then(i.bind(i,2918)),i.e("325").then(i.bind(i,3712))]).then(t=>{let[e,i]=t,{zxcvbnOptions:n,zxcvbn:r}=e,{dictionary:s,adjacencyGraphs:a}=i;return n.setOptions({dictionary:{...s},graphs:a}),r}),iL=t=>{let e;if(t.allowed_special_characters){let i=t.allowed_special_characters.replace("[","\\[");i=i.replace("]","\\]"),e=new RegExp("[".concat(i,"]"))}else e=/[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/;return(t,i)=>{let{minLength:n,maxLength:r}=i;return{max_length:t.length<r,min_length:t.length>=n,require_numbers:/\d/.test(t),require_lowercase:/[a-z]/.test(t),require_uppercase:/[A-Z]/.test(t),require_special_char:e.test(t)}}},iD=(t,e)=>{let{max_length:i,min_length:n,require_special_char:r,require_lowercase:s,require_numbers:a,require_uppercase:o}=e,l=iL(e)(t,{maxLength:e.max_length,minLength:e.min_length}),c={max_length:i,min_length:n,require_special_char:r,require_lowercase:s,require_numbers:a,require_uppercase:o},h=new Map;for(let t in c)c[t]&&(l[t]||h.set(t,!0));return Object.freeze(Object.fromEntries(h))},ij=t=>e=>iD(e,t),iJ=t=>{let{min_zxcvbn_strength:e,onResult:i}=t;return t=>n=>{let r=t(n);return(null==i||i(r),r.score>=e&&r.score<3)?{state:"pass",keys:["unstable__errors.zxcvbn.couldBeStronger"],result:r}:r.score>=e?{state:"excellent",result:r}:{state:"fail",keys:["unstable__errors.zxcvbn.notEnough",...r.feedback.suggestions.map(t=>"unstable__errors.zxcvbn.suggestions.".concat(t))],result:r}}},iK=(t,e)=>{let{onValidation:i=tg,onValidationComplexity:n=tg}=e||{},{show_zxcvbn:r,validatePassword:s}=t,a=ij(t),o=iJ(t),l={};return(t,e)=>{let{onValidation:c=i,onValidationComplexity:h=n}=e||{};if(!s)return;let d=a(t);h(0===Object.keys(d).length),l={...l,complexity:d},r&&iF().then(e=>{let i=o(e)(t);c({...l={...l,strength:i},strength:i})}),(!l.complexity||0!==Object.keys(l.complexity).length||!r)&&c(l)}};class iV extends eb{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.supportedIdentifiers=t.supported_identifiers,this.identifier=t.identifier,this.supportedFirstFactors=ta(t.supported_first_factors),this.supportedSecondFactors=ta(t.supported_second_factors),this.firstFactorVerification=new eq(t.first_factor_verification),this.secondFactorVerification=new eq(t.second_factor_verification),this.createdSessionId=t.created_session_id,this.userData=new iq(t.user_data)),this}constructor(t=null){super(),d(this,"pathRoot","/client/sign_ins"),d(this,"id",void 0),d(this,"status",null),d(this,"supportedIdentifiers",[]),d(this,"supportedFirstFactors",[]),d(this,"supportedSecondFactors",null),d(this,"firstFactorVerification",new eq(null)),d(this,"secondFactorVerification",new eq(null)),d(this,"identifier",null),d(this,"createdSessionId",null),d(this,"userData",new iq(null)),d(this,"create",t=>this._basePost({path:this.pathRoot,body:t})),d(this,"resetPassword",t=>this._basePost({body:t,action:"reset_password"})),d(this,"prepareFirstFactor",t=>{let e;switch(t.strategy){case"passkey":e={};break;case"email_link":e={emailAddressId:t.emailAddressId,redirectUrl:t.redirectUrl};break;case"email_code":case"reset_password_email_code":e={emailAddressId:t.emailAddressId};break;case"phone_code":e={phoneNumberId:t.phoneNumberId,default:t.default};break;case"web3_metamask_signature":case"web3_coinbase_wallet_signature":e={web3WalletId:t.web3WalletId};break;case"reset_password_phone_code":e={phoneNumberId:t.phoneNumberId};break;case"saml":e={redirectUrl:t.redirectUrl,actionCompleteRedirectUrl:t.actionCompleteRedirectUrl};break;default:em("SignIn.prepareFirstFactor",t.strategy)}return this._basePost({body:{...e,strategy:t.strategy},action:"prepare_first_factor"})}),d(this,"attemptFirstFactor",t=>{let e;return e="passkey"===t.strategy?{publicKeyCredential:JSON.stringify(function(t){let e=t.response;return{...eJ(t),response:{clientDataJSON:eK(e.clientDataJSON),authenticatorData:eK(e.authenticatorData),signature:eK(e.signature),userHandle:e.userHandle?eK(e.userHandle):null}}}(t.publicKeyCredential))}:{...t},this._basePost({body:{...e,strategy:t.strategy},action:"attempt_first_factor"})}),d(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=ex();return{startEmailLinkFlow:async i=>{let{emailAddressId:n,redirectUrl:r}=i;return this.id||ef("SignIn"),await this.prepareFirstFactor({strategy:"email_link",emailAddressId:n,redirectUrl:r}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.firstFactorVerification.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),d(this,"prepareSecondFactor",t=>this._basePost({body:t,action:"prepare_second_factor"})),d(this,"attemptSecondFactor",t=>this._basePost({body:t,action:"attempt_second_factor"})),d(this,"authenticateWithRedirect",async t=>{let{strategy:e,redirectUrl:i,redirectUrlComplete:n,identifier:r}=t||{},{firstFactorVerification:s}="saml"===e&&this.id?await this.prepareFirstFactor({strategy:e,redirectUrl:iV.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n}):await this.create({strategy:e,identifier:r,redirectUrl:iV.clerk.buildUrlWithAuth(i),actionCompleteRedirectUrl:n}),{status:a,externalVerificationRedirectURL:o}=s;"unverified"===a&&o?tb(o):ew(a,iV.fapiClient.buildEmailAddress("support"))}),d(this,"authenticateWithWeb3",async t=>{var e;let i;let{identifier:n,generateSignature:r,strategy:s="web3_metamask_signature"}=t||{},a=s.replace("web3_","").replace("_signature","");"function"!=typeof r&&eg("generateSignature"),await this.create({identifier:n});let o=null===(e=this.supportedFirstFactors)||void 0===e?void 0:e.find(t=>t.strategy===s);o||ev("SignIn"),await this.prepareFirstFactor(o);let{message:l}=this.firstFactorVerification;l||ev("SignIn");try{i=await r({identifier:n,nonce:l,provider:a})}catch(t){if("coinbase_wallet"===a&&4001===t.code)i=await r({identifier:n,nonce:l,provider:a});else throw t}return this.attemptFirstFactor({signature:i,strategy:s})}),d(this,"authenticateWithMetamask",async()=>{let t=await er();return this.authenticateWithWeb3({identifier:t,generateSignature:ea,strategy:"web3_metamask_signature"})}),d(this,"authenticateWithCoinbaseWallet",async()=>{let t=await es();return this.authenticateWithWeb3({identifier:t,generateSignature:eo,strategy:"web3_coinbase_wallet_signature"})}),d(this,"authenticateWithPasskey",async t=>{let{flow:e}=t||{},i=iV.clerk.__internal_isWebAuthnSupported||iT,n=iV.clerk.__internal_getPublicCredentials||eD,r=iV.clerk.__internal_isWebAuthnAutofillSupported||iR;if(!i())throw new K.RK("Passkeys are not supported",{code:"passkey_not_supported"});if("autofill"===e||"discoverable"===e)await this.create({strategy:"passkey"});else{let t=this.supportedFirstFactors.find(t=>"passkey"===t.strategy);t||function(){throw Error("".concat(eh," You need to start a SignIn flow by calling SignIn.create({ strategy: 'passkey' }) first"))}(),await this.prepareFirstFactor(t)}let{nonce:s}=this.firstFactorVerification,a=s?function(t){let e=eV(t.challenge),i=(t.allowCredentials||[]).map(t=>({...t,id:eV(t.id)}));return{...t,allowCredentials:i,challenge:e}}(JSON.parse(s)):null;a||e_("get");let o=!1;"autofill"===e&&(o=await r());let{publicKeyCredential:l,error:c}=await n({publicKeyOptions:a,conditionalUI:o});if(!l)throw c;return this.attemptFirstFactor({publicKeyCredential:l,strategy:"passkey"})}),d(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=iV.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return iK({...null===(n=iV.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class iq{fromJSON(t){return t&&(this.firstName=t.first_name,this.lastName=t.last_name,this.imageUrl=t.image_url,this.hasImage=t.has_image),this}constructor(t){d(this,"firstName",void 0),d(this,"lastName",void 0),d(this,"imageUrl",void 0),d(this,"hasImage",void 0),this.fromJSON(t)}}function iB(t){let{unsafeMetadata:e}={...t},i=e?"object"==typeof e?JSON.stringify(e):e:"";return{...t,...e?{unsafeMetadata:i}:{}}}class i$ extends eb{fromJSON(t){return t&&(this.id=t.id,this.status=t.status,this.requiredFields=t.required_fields,this.optionalFields=t.optional_fields,this.missingFields=t.missing_fields,this.unverifiedFields=t.unverified_fields,this.verifications=new e$(t.verifications),this.username=t.username,this.firstName=t.first_name,this.lastName=t.last_name,this.emailAddress=t.email_address,this.phoneNumber=t.phone_number,this.hasPassword=t.has_password,this.unsafeMetadata=t.unsafe_metadata,this.createdSessionId=t.created_session_id,this.createdUserId=t.created_user_id,this.abandonAt=t.abandon_at,this.web3wallet=t.web3_wallet,this.legalAcceptedAt=t.legal_accepted_at),this}shouldBypassCaptchaForAttempt(t){if(!t.strategy)return!1;let e=i$.clerk.__unstable__environment.displayConfig.captchaOauthBypass;return!!(e.some(e=>e===t.strategy)||t.transfer&&e.some(t=>t===i$.clerk.client.signIn.firstFactorVerification.strategy))}constructor(t=null){super(),d(this,"pathRoot","/client/sign_ups"),d(this,"id",void 0),d(this,"status",null),d(this,"requiredFields",[]),d(this,"optionalFields",[]),d(this,"missingFields",[]),d(this,"unverifiedFields",[]),d(this,"verifications",new e$(null)),d(this,"username",null),d(this,"firstName",null),d(this,"lastName",null),d(this,"emailAddress",null),d(this,"phoneNumber",null),d(this,"web3wallet",null),d(this,"externalAccount",void 0),d(this,"hasPassword",!1),d(this,"unsafeMetadata",{}),d(this,"createdSessionId",null),d(this,"createdUserId",null),d(this,"abandonAt",null),d(this,"legalAcceptedAt",null),d(this,"create",async t=>{{let{captchaSiteKey:e,canUseCaptcha:i,captchaURL:n,captchaWidgetType:r,captchaProvider:s,captchaPublicKeyInvisible:a}=iS(i$.clerk);if(!this.shouldBypassCaptchaForAttempt(t)&&i&&e&&n&&a)try{let i=await ig({siteKey:e,widgetType:r,invisibleSiteKey:a,scriptUrl:n,captchaProvider:s});t.captchaToken=i.captchaToken,t.captchaWidgetType=i.captchaWidgetType}catch(e){if(e.captchaError)t.captchaError=e.captchaError;else throw new K.w$(e.message,{code:"captcha_unavailable"})}}if(t.transfer&&this.shouldBypassCaptchaForAttempt(t)){var e;t.strategy=null===(e=i$.clerk.client)||void 0===e?void 0:e.signIn.firstFactorVerification.strategy}return this._basePost({path:this.pathRoot,body:iB(t)})}),d(this,"prepareVerification",t=>this._basePost({body:t,action:"prepare_verification"})),d(this,"attemptVerification",t=>this._basePost({body:t,action:"attempt_verification"})),d(this,"prepareEmailAddressVerification",t=>this.prepareVerification(t||{strategy:"email_code"})),d(this,"attemptEmailAddressVerification",t=>this.attemptVerification({...t,strategy:"email_code"})),d(this,"createEmailLinkFlow",()=>{let{run:t,stop:e}=ex();return{startEmailLinkFlow:async i=>{let{redirectUrl:n}=i;return this.id||ef("SignUp"),await this.prepareEmailAddressVerification({strategy:"email_link",redirectUrl:n}),new Promise((i,n)=>{t(()=>this.reload().then(t=>{let n=t.verifications.emailAddress.status;("verified"===n||"expired"===n)&&(e(),i(t))}).catch(t=>{e(),n(t)}))})},cancelEmailLinkFlow:e}}),d(this,"preparePhoneNumberVerification",t=>this.prepareVerification(t||{strategy:"phone_code"})),d(this,"attemptPhoneNumberVerification",t=>this.attemptVerification({...t,strategy:"phone_code"})),d(this,"prepareWeb3WalletVerification",t=>this.prepareVerification({strategy:"web3_metamask_signature",...t})),d(this,"attemptWeb3WalletVerification",async t=>{let{signature:e,strategy:i="web3_metamask_signature"}=t;return this.attemptVerification({signature:e,strategy:i})}),d(this,"authenticateWithWeb3",async t=>{let e;let{generateSignature:i,identifier:n,unsafeMetadata:r,strategy:s="web3_metamask_signature",legalAccepted:a}=t||{},o=s.replace("web3_","").replace("_signature","");"function"!=typeof i&&eg("generateSignature");let l=n||this.web3wallet;await this.create({web3Wallet:l,unsafeMetadata:r,legalAccepted:a}),await this.prepareWeb3WalletVerification({strategy:s});let{message:c}=this.verifications.web3Wallet;c||ev("SignUp");try{e=await i({identifier:n,nonce:c,provider:o})}catch(t){if("coinbase_wallet"===o&&4001===t.code)e=await i({identifier:n,nonce:c,provider:o});else throw t}return this.attemptWeb3WalletVerification({signature:e,strategy:s})}),d(this,"authenticateWithMetamask",async t=>{let e=await er();return this.authenticateWithWeb3({identifier:e,generateSignature:ea,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_metamask_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),d(this,"authenticateWithCoinbaseWallet",async t=>{let e=await es();return this.authenticateWithWeb3({identifier:e,generateSignature:eo,unsafeMetadata:null==t?void 0:t.unsafeMetadata,strategy:"web3_coinbase_wallet_signature",legalAccepted:null==t?void 0:t.legalAccepted})}),d(this,"authenticateWithRedirect",async t=>{let{redirectUrl:e,redirectUrlComplete:i,strategy:n,continueSignUp:r=!1,unsafeMetadata:s,emailAddress:a,legalAccepted:o}=t,l=()=>{let t={strategy:n,redirectUrl:i$.clerk.buildUrlWithAuth(e),actionCompleteRedirectUrl:i,unsafeMetadata:s,emailAddress:a,legalAccepted:o};return r&&this.id?this.update(t):this.create(t)},{verifications:c}=await l().catch(async t=>{if((0,K.kD)(t)&&(0,K.pG)(t))return await i$.clerk.__unstable__environment.reload(),l();throw t}),{externalAccount:h}=c,{status:d,externalVerificationRedirectURL:u}=h;"unverified"===d&&u?tb(u):ew(d,i$.fapiClient.buildEmailAddress("support"))}),d(this,"update",t=>this._basePatch({body:iB(t)})),d(this,"validatePassword",(t,e)=>{var i,n;if(null===(i=i$.clerk.__unstable__environment)||void 0===i?void 0:i.userSettings.passwordSettings)return iK({...null===(n=i$.clerk.__unstable__environment)||void 0===n?void 0:n.userSettings.passwordSettings,validatePassword:!0})(t,e)}),this.fromJSON(t)}}class iG extends eb{static async create(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new iG(await eb._fetch({path:t,method:"POST",body:e}),t)}fromJSON(t){return t&&(this.jwt=tZ(t.jwt)),this}constructor(t,e){super(),d(this,"pathRoot","tokens"),d(this,"jwt",void 0),d(this,"getRawString",()=>{var t;return(null===(t=this.jwt)||void 0===t?void 0:t.claims.__raw)||""}),e&&(this.pathRoot=e),(null==t?void 0:t.jwt)&&(this.jwt=tZ(t.jwt))}}class iH extends eb{fromJSON(t){return t&&(this.id=t.id,this.secret=t.secret,this.uri=t.uri,this.verified=t.verified,this.backupCodes=t.backup_codes,this.updatedAt=eS(t.updated_at),this.createdAt=eS(t.created_at)),this}constructor(t){super(),d(this,"pathRoot","/me"),d(this,"id",""),d(this,"secret",void 0),d(this,"uri",void 0),d(this,"verified",!1),d(this,"backupCodes",void 0),d(this,"updatedAt",null),d(this,"createdAt",null),this.fromJSON(t)}}let iY=t=>{let{firstName:e,lastName:i,name:n}=t;return n||[e,i].join(" ").trim()||""};class iQ extends eb{fromJSON(t){return t&&(this.id=t.id,this.codes=t.codes,this.updatedAt=eS(t.updated_at),this.createdAt=eS(t.created_at)),this}constructor(t){super(),d(this,"pathRoot","/me"),d(this,"id",void 0),d(this,"codes",[]),d(this,"updatedAt",null),d(this,"createdAt",null),this.fromJSON(t)}}class iZ extends eb{static isUserResource(t){return!!t&&t instanceof iZ}path(){return this.pathRoot}get verifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get unverifiedExternalAccounts(){return this.externalAccounts.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)!="verified"})}get verifiedWeb3Wallets(){return this.web3Wallets.filter(t=>{var e;return(null===(e=t.verification)||void 0===e?void 0:e.status)=="verified"})}get hasVerifiedEmailAddress(){return this.emailAddresses.filter(t=>"verified"===t.verification.status).length>0}get hasVerifiedPhoneNumber(){return this.phoneNumbers.filter(t=>"verified"===t.verification.status).length>0}fromJSON(t){return t&&(this.id=t.id,this.externalId=t.external_id,this.firstName=t.first_name,this.lastName=t.last_name,(this.firstName||this.lastName)&&(this.fullName=iY({firstName:this.firstName,lastName:this.lastName})),this.imageUrl=t.image_url,this.hasImage=t.has_image,this.username=t.username,this.passwordEnabled=t.password_enabled,this.emailAddresses=(t.email_addresses||[]).map(t=>new eM(t,this.path()+"/email_addresses")),this.primaryEmailAddressId=t.primary_email_address_id,this.primaryEmailAddress=this.emailAddresses.find(t=>{let{id:e}=t;return e===this.primaryEmailAddressId})||null,this.phoneNumbers=(t.phone_numbers||[]).map(t=>new e0(t,this.path()+"/phone_numbers")),this.primaryPhoneNumberId=t.primary_phone_number_id,this.primaryPhoneNumber=this.phoneNumbers.find(t=>{let{id:e}=t;return e===this.primaryPhoneNumberId})||null,this.web3Wallets=(t.web3_wallets||[]).map(t=>new i0(t,this.path()+"/web3_wallets")),this.primaryWeb3WalletId=t.primary_web3_wallet_id,this.primaryWeb3Wallet=this.web3Wallets.find(t=>{let{id:e}=t;return e===this.primaryWeb3WalletId})||null,this.externalAccounts=(t.external_accounts||[]).map(t=>new eH(t,this.path()+"/external_accounts")),this.passkeys=(t.passkeys||[]).map(t=>new iM(t)),this.organizationMemberships=(t.organization_memberships||[]).map(t=>new e8(t)),this.samlAccounts=(t.saml_accounts||[]).map(t=>new it(t,this.path()+"/saml_accounts")),this.enterpriseAccounts=(t.enterprise_accounts||[]).map(t=>new eY(t,this.path()+"/enterprise_accounts")),this.publicMetadata=t.public_metadata,this.unsafeMetadata=t.unsafe_metadata,this.totpEnabled=t.totp_enabled,this.backupCodeEnabled=t.backup_code_enabled,this.twoFactorEnabled=t.two_factor_enabled,this.createOrganizationEnabled=t.create_organization_enabled,this.createOrganizationsLimit=t.create_organizations_limit,this.deleteSelfEnabled=t.delete_self_enabled,t.last_sign_in_at&&(this.lastSignInAt=eS(t.last_sign_in_at)),t.legal_accepted_at&&(this.legalAcceptedAt=eS(t.legal_accepted_at)),this.updatedAt=eS(t.updated_at),this.createdAt=eS(t.created_at)),this}constructor(t){super(),d(this,"pathRoot","/me"),d(this,"id",""),d(this,"externalId",null),d(this,"username",null),d(this,"emailAddresses",[]),d(this,"phoneNumbers",[]),d(this,"web3Wallets",[]),d(this,"externalAccounts",[]),d(this,"enterpriseAccounts",[]),d(this,"passkeys",[]),d(this,"samlAccounts",[]),d(this,"organizationMemberships",[]),d(this,"passwordEnabled",!1),d(this,"firstName",null),d(this,"lastName",null),d(this,"fullName",null),d(this,"primaryEmailAddressId",null),d(this,"primaryEmailAddress",null),d(this,"primaryPhoneNumberId",null),d(this,"primaryPhoneNumber",null),d(this,"primaryWeb3WalletId",null),d(this,"primaryWeb3Wallet",null),d(this,"imageUrl",""),d(this,"hasImage",!1),d(this,"twoFactorEnabled",!1),d(this,"totpEnabled",!1),d(this,"backupCodeEnabled",!1),d(this,"publicMetadata",{}),d(this,"unsafeMetadata",{}),d(this,"createOrganizationEnabled",!1),d(this,"createOrganizationsLimit",null),d(this,"deleteSelfEnabled",!1),d(this,"lastSignInAt",null),d(this,"legalAcceptedAt",null),d(this,"updatedAt",null),d(this,"createdAt",null),d(this,"cachedSessionsWithActivities",null),d(this,"isPrimaryIdentification",t=>{switch(t.constructor){case eM:return this.primaryEmailAddressId===t.id;case e0:return this.primaryPhoneNumberId===t.id;case i0:return this.primaryWeb3WalletId===t.id;default:return!1}}),d(this,"createEmailAddress",t=>{let{email:e}=t||{};return new eM({email_address:e},this.path()+"/email_addresses/").create()}),d(this,"createPasskey",()=>iM.registerPasskey()),d(this,"createPhoneNumber",t=>{let{phoneNumber:e}=t||{};return new e0({phone_number:e},this.path()+"/phone_numbers/").create()}),d(this,"createWeb3Wallet",t=>{let{web3Wallet:e}=t||{};return new i0({web3_wallet:e},this.path()+"/web3_wallets/").create()}),d(this,"createExternalAccount",async t=>{var e;let{strategy:i,redirectUrl:n,additionalScopes:r}=t||{};return new eH(null===(e=await eb._fetch({path:"/me/external_accounts",method:"POST",body:{strategy:i,redirect_url:n,additional_scope:r}}))||void 0===e?void 0:e.response,this.path()+"/external_accounts")}),d(this,"createTOTP",async()=>{var t;return new iH(null===(t=await eb._fetch({path:"/me/totp",method:"POST"}))||void 0===t?void 0:t.response)}),d(this,"verifyTOTP",async t=>{var e;let{code:i}=t;return new iH(null===(e=await eb._fetch({path:"/me/totp/attempt_verification",method:"POST",body:{code:i}}))||void 0===e?void 0:e.response)}),d(this,"disableTOTP",async()=>{var t;return new eI(null===(t=await eb._fetch({path:"/me/totp",method:"DELETE"}))||void 0===t?void 0:t.response)}),d(this,"createBackupCode",async()=>{var t;return new iQ(null===(t=await eb._fetch({path:this.path()+"/backup_codes/",method:"POST"}))||void 0===t?void 0:t.response)}),d(this,"update",t=>this._basePatch({body:iB(t)})),d(this,"updatePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/change_password")})),d(this,"removePassword",t=>this._basePost({body:t,path:"".concat(this.path(),"/remove_password")})),d(this,"delete",()=>this._baseDelete({path:"/me"})),d(this,"getSessions",async()=>{if(this.cachedSessionsWithActivities)return this.cachedSessionsWithActivities;let t=await iN.retrieve();return this.cachedSessionsWithActivities=t,t}),d(this,"setProfileImage",t=>{let{file:e}=t||{};return null===e?eX.delete("".concat(this.path(),"/profile_image")):eX.create("".concat(this.path(),"/profile_image"),{file:e})}),d(this,"getOrganizationInvitations",t=>iX.retrieve(t)),d(this,"getOrganizationSuggestions",t=>e7.retrieve(t)),d(this,"getOrganizationMemberships",t=>e8.retrieve(t)),d(this,"leaveOrganization",async t=>{var e;return new eI(null===(e=await eb._fetch({path:"".concat(this.path(),"/organization_memberships/").concat(t),method:"DELETE"}))||void 0===e?void 0:e.response)}),this.fromJSON(t)}}class iX extends eb{static async retrieve(t){return await eb._fetch({path:"/me/organization_invitations",method:"GET",search:e1(t)}).then(t=>{let{data:e,total_count:i}=null==t?void 0:t.response;return{total_count:i,data:e.map(t=>new iX(t))}})}fromJSON(t){return t&&(this.id=t.id,this.emailAddress=t.email_address,this.publicOrganizationData={hasImage:t.public_organization_data.has_image,imageUrl:t.public_organization_data.image_url,name:t.public_organization_data.name,id:t.public_organization_data.id,slug:t.public_organization_data.slug},this.publicMetadata=t.public_metadata,this.role=t.role,this.status=t.status,this.createdAt=eS(t.created_at),this.updatedAt=eS(t.updated_at)),this}constructor(t){super(),d(this,"id",void 0),d(this,"emailAddress",void 0),d(this,"publicOrganizationData",void 0),d(this,"publicMetadata",{}),d(this,"status",void 0),d(this,"role",void 0),d(this,"createdAt",void 0),d(this,"updatedAt",void 0),d(this,"accept",async()=>await this._basePost({path:"/me/organization_invitations/".concat(this.id,"/accept")})),this.fromJSON(t)}}class i0 extends eb{create(){return this._basePost({body:{web3_wallet:this.web3Wallet}})}destroy(){return this._baseDelete()}toString(){return this.web3Wallet}fromJSON(t){return t&&(this.id=t.id,this.web3Wallet=t.web3_wallet,this.verification=new eq(t.verification)),this}constructor(t,e){super(),d(this,"id",void 0),d(this,"web3Wallet",""),d(this,"verification",void 0),d(this,"prepareVerification",t=>this._basePost({action:"prepare_verification",body:{...t}})),d(this,"attemptVerification",t=>{let{signature:e}=t;return this._basePost({action:"attempt_verification",body:{signature:e}})}),this.pathRoot=e,this.fromJSON(t)}}class i1 extends eb{fromJSON(t){return t&&(this.id=t.id,this.updatedAt=eS(t.updated_at),this.createdAt=eS(t.created_at)),this}static async join(t){var e;return new i1(null===(e=await eb._fetch({path:"/waitlist",method:"POST",body:t}))||void 0===e?void 0:e.response)}constructor(t){super(),d(this,"pathRoot","/waitlist"),d(this,"id",""),d(this,"updatedAt",null),d(this,"createdAt",null),this.fromJSON(t)}}function i3(t,e){return!function(t,e){if(!t&&e||t&&!e)return!0;if(!t&&t===e)return!1;if(!t||!e)return!0;try{if(eO.isClientResource(t))return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||t.sessions.length!==e.sessions.length;if(iP.isSessionResource(t))return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||function(t,e){let i=t.factorVerificationAge,n=e.factorVerificationAge;return null!==i&&null!==n?i[0]!==n[0]||i[1]!==n[1]:i!==n}(t,e)||function(t,e){var i,n,r,s,a,o;if(t.lastActiveOrganizationId!==e.lastActiveOrganizationId)return!0;let l=null===(n=t.user)||void 0===n?void 0:null===(i=n.organizationMemberships)||void 0===i?void 0:i.find(e=>e.organization.id===t.lastActiveOrganizationId),c=null===(s=e.user)||void 0===s?void 0:null===(r=s.organizationMemberships)||void 0===r?void 0:r.find(e=>e.organization.id===t.lastActiveOrganizationId);return(null==l?void 0:l.role)!==(null==c?void 0:c.role)||(null==l?void 0:null===(a=l.permissions)||void 0===a?void 0:a.length)!==(null==c?void 0:null===(o=c.permissions)||void 0===o?void 0:o.length)}(t,e);if(iZ.isUserResource(t)){var i,n,r,s;return t.id!==e.id||t.updatedAt.getTime()<e.updatedAt.getTime()||(i=e,n=t,i.organizationMemberships.length!==n.organizationMemberships.length||(null===(r=i.organizationMemberships[0])||void 0===r?void 0:r.updatedAt)!==(null===(s=n.organizationMemberships[0])||void 0===s?void 0:s.updatedAt))}}catch(t){}return!0}(t,e)?t:e}var i2=t=>Object.entries(t).reduce((t,[e,i])=>(null!=i&&(t[e]=i),t),{}),i5=(t,e)=>{let i={};for(let n in t)i[n]=e(t[n],n);return i},i9=(t,e)=>{let i={};for(let n in t)t[n]&&e(t[n])&&(i[n]=t[n]);return i},i6=new WeakSet,i4=new WeakSet,i8=new WeakSet,i7=new WeakSet,nt=new WeakSet,ne=new WeakSet,ni=new WeakSet,nn=new WeakMap;class nr{getAfterSignInUrl(){return ii(this,i7,nl).call(this,"signIn")}getAfterSignUpUrl(){return ii(this,i7,nl).call(this,"signUp")}getPreservedSearchParams(){return ii(this,i6,ns).call(this,ii(this,i4,na).call(this))}toSearchParams(){return ii(this,i6,ns).call(this,ii(this,i8,no).call(this))}constructor(t,e={},i={}){ir(this,i6),ir(this,i4),ir(this,i8),ir(this,i7),ir(this,nt),ir(this,ne),ir(this,ni),d(this,"options",void 0),d(this,"fromOptions",void 0),d(this,"fromProps",void 0),d(this,"fromSearchParams",void 0),l(this,nn,{writable:!0,value:t=>{var e;return i9(t,tY(null===(e=this.options)||void 0===e?void 0:e.allowedRedirectOrigins,window.location.origin))}}),this.options=t,this.fromOptions=ii(this,nt,nc).call(this,t||{}),this.fromProps=ii(this,nt,nc).call(this,e||{}),this.fromSearchParams=ii(this,ne,nh).call(this,i||{})}}function ns(t){return new URLSearchParams(i2(Object.fromEntries(Object.entries(t).map(t=>{let[e,i]=t;return[tr(e),i]}))))}function na(){return Object.fromEntries(Object.entries({...this.fromSearchParams}).filter(t=>{let[e]=t;return nr.preserved.includes(e)}))}function no(){let t=this.fromSearchParams.signUpForceRedirectUrl||this.fromProps.signUpForceRedirectUrl||this.fromOptions.signUpForceRedirectUrl,e=this.fromSearchParams.signUpFallbackRedirectUrl||this.fromProps.signUpFallbackRedirectUrl||this.fromOptions.signUpFallbackRedirectUrl,i=this.fromSearchParams.signInForceRedirectUrl||this.fromProps.signInForceRedirectUrl||this.fromOptions.signInForceRedirectUrl,n=this.fromSearchParams.signInFallbackRedirectUrl||this.fromProps.signInFallbackRedirectUrl||this.fromOptions.signInFallbackRedirectUrl,r=this.fromSearchParams.afterSignInUrl||this.fromProps.afterSignInUrl||this.fromOptions.afterSignInUrl,s={signUpForceRedirectUrl:t,signUpFallbackRedirectUrl:e,signInFallbackRedirectUrl:n,signInForceRedirectUrl:i,afterSignInUrl:r,afterSignUpUrl:this.fromSearchParams.afterSignUpUrl||this.fromProps.afterSignUpUrl||this.fromOptions.afterSignUpUrl,redirectUrl:this.fromSearchParams.redirectUrl||this.fromProps.redirectUrl||this.fromOptions.redirectUrl};return t&&delete s.signUpFallbackRedirectUrl,i&&delete s.signInFallbackRedirectUrl,s}function nl(t){var e,i;let n,r;let s="".concat(t,"ForceRedirectUrl"),a="".concat(t,"FallbackRedirectUrl"),o="after".concat(t[0].toUpperCase()).concat(t.slice(1),"Url");(r=this.fromSearchParams[s]||this.fromProps[s]||this.fromOptions[s])&&(n=s),r||(r=this.fromSearchParams.redirectUrl),r&&(n="redirectUrl"),r||(r=this.fromSearchParams[a]||this.fromProps[a]||this.fromOptions[a]),r&&(n=a);let l=this.fromSearchParams[o]||this.fromProps[o]||this.fromProps.redirectUrl||this.fromOptions[o];return e=n,(i=r)&&l&&te.warnOnce('Clerk: The "'.concat(e,'" prop ("').concat(i,'") has priority over the legacy "').concat(o,'" (or "redirectUrl") ("').concat(l,'"), which will be completely ignored in this case. "').concat(o,'" (or "redirectUrl" prop) should be replaced with the new "fallbackRedirectUrl" or "forceRedirectUrl" props instead. Learn more: https://clerk.com/docs/guides/custom-redirects#redirect-url-props')),r||(r=l),r||"/"}function nc(t){ec(t);let e={};return nr.keys.forEach(i=>{e[i]=t[i]}),i5(a(this,nn).call(this,ii(this,ni,nd).call(this,i9(e,Boolean))),t=>t.toString())}function nh(t){ec(t);let e={};return nr.keys.forEach(i=>{e[i]=t[tr(i)]}),e.redirectUrl=t.redirect_url,i5(a(this,nn).call(this,ii(this,ni,nd).call(this,i9(e,Boolean))),t=>t.toString())}function nd(t){return i5(t,t=>tB(t,window.location.origin))}d(nr,"keys",["signInForceRedirectUrl","signInFallbackRedirectUrl","signUpForceRedirectUrl","signUpFallbackRedirectUrl","afterSignInUrl","afterSignUpUrl","redirectUrl"]),d(nr,"preserved",["redirectUrl"]);var nu="__clerk_db_jwt";function np(t,e){let i=new URL(t),n=i.searchParams.get(nu);i.searchParams.delete(nu);let r=n||e;return r&&i.searchParams.set(nu,r),i}var nf=t=>t.searchParams.get(nu)||"",nm=t=>nv(ng(t)),nv=t=>{let e=new URL(t);return e.searchParams.delete(nu),e},ng=t=>{let e=new URL(t);return e.searchParams.delete("__dev_session"),e.hash=decodeURI(e.hash).replace(/__clerk_db_jwt\[(.*)\]/,""),e.href.endsWith("#")&&(e.hash=""),e};function nw(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}var n_=function t(e,i){function n(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=nw({},i,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in r){if(r[a])s+="; "+a,!0!==r[a]&&(s+="="+r[a].split(";")[0])}return document.cookie=t+"="+e.write(n,t)+s}}return Object.create({set:n,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var i=document.cookie?document.cookie.split("; "):[],n={},r=0;r<i.length;r++){var s=i[r].split("="),a=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(n[o]=e.read(a,o),t===o)break}catch(t){}}return t?n[t]:n}},remove:function(t,e){n(t,"",nw({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,nw({},this.attributes,e))},withConverter:function(e){return t(nw({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function nb(t){return{get:()=>n_.get(t),set(e,i={}){n_.set(t,e,i)},remove(e){n_.remove(t,e)}}}function ny(t,e){let i=function(t){try{return new Date(t||new Date)}catch(t){return new Date}}(t);return i.setFullYear(i.getFullYear()+e),i}let nk=nb("__clerk_test_etld"),nS=t=>"https:"===window.location.protocol||"None"===t&&void 0===window.safari&&(void 0!==window.isSecureContext?window.isSecureContext:"localhost"===window.location.hostname),nU="__client_uat",nA=t=>{let e=nb(nU),i=nb(Z(nU,t));return{set:t=>{let r=ny(Date.now(),1),s=t3()?"None":"Strict",a=nS(s),o=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nk;if(n)return n;if(["localhost","127.0.0.1","0.0.0.0"].includes(t))return t;let i=t.split(".");if(1===i.length)return t;for(let t=i.length-2;t>=0;t--){let r=i.slice(t).join(".");if(e.set("1",{domain:r}),"1"===e.get())return e.remove({domain:r}),n=r,r;e.remove({domain:r})}}(),l="0";t&&t.updatedAt&&t.activeSessions.length>0&&(l=Math.floor(t.updatedAt.getTime()/1e3).toString()),i.remove(),e.remove(),i.set(l,{expires:r,sameSite:s,domain:o,secure:a}),e.set(l,{expires:r,sameSite:s,domain:o,secure:a})},get:()=>parseInt(i.get()||e.get()||"0",10)}},nO="__session",nI=t=>{let e=nb(nO),i=nb(Z(nO,t));return{set:t=>{let n=ny(Date.now(),1),r=t3()?"None":"Lax",s=nS(r);i.set(t,{expires:n,sameSite:r,secure:s}),e.set(t,{expires:n,sameSite:r,secure:s})},remove:()=>{i.remove(),e.remove()}}};async function nC(t){let e;try{e=await Q(t)}catch(a){te.logOnce("Suffixed cookie failed due to ".concat(a.message," (secure-context: ").concat(window.isSecureContext,", url: ").concat(window.location.href,")"));let{default:n}=await Promise.all([i.e("192"),i.e("199")]).then(i.t.bind(i,5900,23)),{default:r}=await Promise.all([i.e("192"),i.e("199")]).then(i.t.bind(i,1667,23)),s=n(t);e=r.stringify(s).replace(/\+/gi,"-").replace(/\//gi,"_").substring(0,8)}return e}let nP=t=>{let e=nb(nu),i=nb(Z(nu,t));return{get:()=>i.get()||e.get(),set:t=>{let n=ny(Date.now(),1),r=t3()?"None":"Lax",s=nS(r);i.set(t,{expires:n,sameSite:r,secure:s}),e.set(t,{expires:n,sameSite:r,secure:s})},remove:()=>{i.remove(),e.remove()}}};var nE=i("3145"),nT=i.n(nE);class nR{startPollingForSessionToken(t){!this.timerId&&(this.timerId=this.workerTimers.setInterval(()=>{this.lock.acquireLockAndRun(t)},5e3))}stopPollingForSessionToken(){this.timerId&&(this.workerTimers.clearInterval(this.timerId),this.timerId=null)}constructor(){d(this,"lock",function(t){let e=new(nT());return window.addEventListener("beforeunload",async()=>{await e.releaseLock(t)}),{acquireLockAndRun:async i=>{if(await e.acquireLock(t,5e3))try{return await i()}finally{await e.releaseLock(t)}}}}("clerk.lock.refreshSessionToken")),d(this,"workerTimers",eR()),d(this,"timerId",null)}}class nx{static async create(t,e){let i=await nC(t.publishableKey);return new nx(t,e,i)}setEnvironment(t){this.environment=t,this.setClientUatCookieForDevelopmentInstances()}isSignedOut(){return this.clerk.loaded?!!this.clerk.user:0>=this.clientUat.get()}async setupDevelopment(){await this.devBrowser.setup()}setupProduction(){this.devBrowser.clear()}async handleUnauthenticatedDevBrowser(){this.devBrowser.clear(),await this.devBrowser.setup()}decorateUrlWithDevBrowserToken(t){let e=this.devBrowser.getDevBrowserJWT();return e?np(t,e):function(){throw Error("".concat(eh," Missing dev browser jwt. Please contact support."))}()}startPollingForToken(){this.poller||(this.poller=new nR),this.poller.startPollingForSessionToken(()=>this.refreshSessionToken())}refreshTokenOnFocus(){window.addEventListener("focus",()=>{"visible"===document.visibilityState&&this.refreshSessionToken({updateCookieImmediately:!0})})}async refreshSessionToken(){let{updateCookieImmediately:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.clerk.session)try{let e=await this.clerk.session.getToken();t&&this.updateSessionCookie(e)}catch(t){return this.handleGetTokenError(t)}}updateSessionCookie(t){if(document.hasFocus()||this.isCurrentOrganizationActive())return this.setActiveOrganizationInStorage(),t?this.sessionCookie.set(t):this.sessionCookie.remove()}setClientUatCookieForDevelopmentInstances(){var t;(null===(t=this.environment)||void 0===t?void 0:t.isDevelopmentOrStaging())&&this.inCustomDevelopmentDomain()&&this.clientUat.set(this.clerk.client)}inCustomDevelopmentDomain(){let t=this.clerk.frontendApi.replace("clerk.","");return!window.location.host.endsWith(t)}handleGetTokenError(t){if((0,K.kD)(t)||eu(t.message||t),(0,K.ix)(t)){this.clerk.handleUnauthenticated();return}!(0,K.eE)(t)&&eu(t.toString())}setActiveOrganizationInStorage(){var t;(null===(t=this.clerk.organization)||void 0===t?void 0:t.id)?localStorage.setItem("clerk_active_org",this.clerk.organization.id):localStorage.removeItem("clerk_active_org")}isCurrentOrganizationActive(){var t,e;let i=localStorage.getItem("clerk_active_org");return!i&&(null===(t=this.clerk.organization)||void 0===t||!t.id)||(null===(e=this.clerk.organization)||void 0===e?void 0:e.id)===i}constructor(t,e,i){d(this,"clerk",void 0),d(this,"environment",void 0),d(this,"poller",void 0),d(this,"clientUat",void 0),d(this,"sessionCookie",void 0),d(this,"devBrowser",void 0),this.clerk=t,this.poller=null,io.on(ia.TokenUpdate,t=>{let{token:e}=t;this.updateSessionCookie(e&&e.getRawString()),this.setClientUatCookieForDevelopmentInstances()}),this.refreshTokenOnFocus(),this.startPollingForToken(),this.clientUat=nA(i),this.sessionCookie=nI(i),this.devBrowser=function(t){let{cookieSuffix:e,frontendApi:i,fapiClient:n}=t,r=nP(e);function s(){return r.get()}function a(t){r.set(t)}function o(){r.remove()}return{clear:function(){o()},setup:async function(){if(!tD(i))return;n.onBeforeRequest(t=>{let e=s();e&&(null==t?void 0:t.url)&&(t.url=np(t.url,e))}),n.onAfterResponse((t,e)=>{var i;let n=null==e?void 0:null===(i=e.headers)||void 0===i?void 0:i.get("Clerk-Db-Jwt");n&&a(n)});let t=function(t){let e=nf(t);return nm(t).href!==t.href&&void 0!==globalThis.history&&globalThis.history.replaceState(null,"",nm(t)),e}(new URL(window.location.href));if(t){a(t);return}if(r.get())return;let e=n.buildUrl({path:"/dev_browser"}),o=await fetch(e.toString(),{method:"POST"});if(!o.ok){let t=await o.json(),e=(0,K.iR)(t.errors);e[0]?ed(e[0].longMessage):ed()}let l=await o.json();a(null==l?void 0:l.id)},getDevBrowserJWT:s,setDevBrowserJWT:a,removeDevBrowserJWT:o}}({frontendApi:t.frontendApi,fapiClient:e,cookieSuffix:i})}}class nM{async start(){this.isEnabled()&&(await this.challengeAndSend(),this.timers.setInterval(()=>{this.challengeAndSend()},this.intervalInMs()))}async challengeAndSend(){if(this.clerk.client)try{let t=await this.captchaChallenge.invisible();await this.clerk.client.sendCaptchaToken(t)}catch(t){}}isEnabled(){var t;return!!(null===(t=this.clerk.__unstable__environment)||void 0===t?void 0:t.displayConfig.captchaHeartbeat)}intervalInMs(){var t,e;return null!==(e=null===(t=this.clerk.__unstable__environment)||void 0===t?void 0:t.displayConfig.captchaHeartbeatIntervalMs)&&void 0!==e?e:6e5}constructor(t,e=new iU(t),i=eR()){d(this,"clerk",void 0),d(this,"captchaChallenge",void 0),d(this,"timers",void 0),this.clerk=t,this.captchaChallenge=e,this.timers=i}}let nW=t=>"\uD83D\uDD12 Clerk:\n".concat(t.trim(),"\n(This notice only appears in development)"),nz={cannotRenderComponentWhenSessionExists:"The <SignUp/> and <SignIn/> components cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the Home URL instead.",cannotRenderSignUpComponentWhenSessionExists:"The <SignUp/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the value set in `afterSignUp` URL instead.",cannotRenderSignInComponentWhenSessionExists:"The <SignIn/> component cannot render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, Clerk is redirecting to the `afterSignIn` URL instead.",cannotRenderComponentWhenUserDoesNotExist:"<UserProfile/> cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotRenderComponentWhenOrgDoesNotExist:"<OrganizationProfile/> cannot render unless an organization is active. Since no organization is currently active, this is no-op.",cannotRenderAnyOrganizationComponent:t=>nW("The <".concat(t,"/> cannot be rendered when the feature is turned off. Visit 'dashboard.clerk.com' to enable the feature. Since the feature is turned off, this is no-op.")),cannotOpenUserProfile:"The UserProfile modal cannot render unless a user is signed in. Since no user is signed in, this is no-op.",cannotOpenSignInOrSignUp:"The SignIn or SignUp modals do not render when a user is already signed in, unless the application allows multiple sessions. Since a user is signed in and this application only allows a single session, this is no-op."};for(let t of Object.keys(nz)){let e=nz[t];"function"!=typeof e&&(nz[t]=nW(e))}let nN={polling:!0,standardBrowser:!0,touchSession:!0,isSatellite:!1,signInUrl:void 0,signUpUrl:void 0,afterSignOutUrl:void 0,signInFallbackRedirectUrl:void 0,signUpFallbackRedirectUrl:void 0,signInForceRedirectUrl:void 0,signUpForceRedirectUrl:void 0};var nF=new WeakMap,nL=new WeakMap,nD=new WeakMap,nj=new WeakMap,nJ=new WeakMap,nK=new WeakMap,nV=new WeakMap,nq=new WeakMap,nB=new WeakMap,n$=new WeakMap,nG=new WeakMap,nH=new WeakMap,nY=new WeakMap,nQ=new WeakMap,nZ=new WeakMap,nX=new WeakMap,n0=new WeakMap,n1=new WeakMap,n3=new WeakMap,n2=new WeakMap,n5=new WeakMap,n9=new WeakMap,n6=new WeakMap,n4=new WeakMap,n8=new WeakMap,n7=new WeakMap,rt=new WeakMap,re=new WeakMap,ri=new WeakMap,rn=new WeakMap,rr=new WeakMap,rs=new WeakMap,ra=new WeakMap,ro=new WeakMap,rl=new WeakMap,rc=new WeakMap,rh=new WeakMap,rd=new WeakMap,ru=new WeakMap,rp=new WeakMap,rf=new WeakMap;class rm{get publishableKey(){return a(this,nF)}get version(){return rm.version}set sdkMetadata(t){rm.sdkMetadata=t}get sdkMetadata(){return rm.sdkMetadata}get loaded(){return a(this,n$)}get isSatellite(){return!!t1()&&tv(a(this,nH).isSatellite,new URL(window.location.href),!1)}get domain(){if(t1()){let t=function(t=""){return(t||"").replace(/^.+:\/\//,"")}(tv(a(this,nL),new URL(window.location.href)));return"production"===a(this,nB)?function(t){let e;if(!t)return"";if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}let i=t.replace(e,"");return`clerk.${i}`}(t):t}return""}get proxyUrl(){if(t1()){let t=tv(a(this,nD),new URL(window.location.href));return!(!t||ti(t)||tn(t))&&tC.throwInvalidProxyUrl({url:t}),t?tn(t)?new URL(t,window.location.origin).toString():t:""}return""}get frontendApi(){let t=Y(this.publishableKey);return t?t.frontendApi:tC.throwInvalidPublishableKeyError({key:this.publishableKey})}get instanceType(){return a(this,nB)}get isStandardBrowser(){return a(this,nH).standardBrowser||!1}__internal_getOption(t){return a(this,nH)[t]}buildUrlWithAuth(t){if("production"===a(this,nB))return t;let e=new URL(t,window.location.origin);return e.origin!==window.location.origin&&a(this,nj)?a(this,nj).decorateUrlWithDevBrowserToken(e).href:e.href}buildSignInUrl(t){return a(this,rd).call(this,"signInUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildSignUpUrl(t){return a(this,rd).call(this,"signUpUrl",{...t,redirectUrl:(null==t?void 0:t.redirectUrl)||window.location.href},null==t?void 0:t.initialValues)}buildUserProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.userProfileUrl):""}buildHomeUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.homeUrl):""}buildAfterSignInUrl(){return this.buildUrlWithAuth(new nr(a(this,nH)).getAfterSignInUrl())}buildAfterSignUpUrl(){return this.buildUrlWithAuth(new nr(a(this,nH)).getAfterSignUpUrl())}buildAfterSignOutUrl(){return a(this,nH).afterSignOutUrl?this.buildUrlWithAuth(a(this,nH).afterSignOutUrl):"/"}buildWaitlistUrl(){return this.environment&&this.environment.displayConfig?tK({base:a(this,nH).waitlistUrl||this.environment.displayConfig.waitlistUrl},{stringify:!0}):""}buildAfterMultiSessionSingleSignOutUrl(){if(!a(this,nH).afterMultiSessionSingleSignOutUrl){var t;return this.buildUrlWithAuth(tK({base:a(this,nH).signInUrl?"".concat(a(this,nH).signInUrl,"/choose"):null===(t=this.environment)||void 0===t?void 0:t.displayConfig.afterSignOutOneUrl},{stringify:!0}))}return this.buildUrlWithAuth(a(this,nH).afterMultiSessionSingleSignOutUrl)}buildCreateOrganizationUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.createOrganizationUrl):""}buildOrganizationProfileUrl(){return this.environment&&this.environment.displayConfig?this.buildUrlWithAuth(this.environment.displayConfig.organizationProfileUrl):""}updateEnvironment(t){var e;this.environment=t,null===(e=a(this,nj))||void 0===e||e.setEnvironment(t)}get __internal_last_error(){let t=this.internal_last_error;return this.internal_last_error=null,t}set __internal_last_error(t){this.internal_last_error=t}get __unstable__environment(){return this.environment}__internal_navigateWithError(t,e){return this.__internal_last_error=e,this.navigate(t)}assertComponentsReady(t){if(!rm.mountComponentRenderer)throw Error("ClerkJS was loaded without UI components.");if(!t)throw Error("ClerkJS components are not ready yet.")}constructor(t,e){var i=this;if(d(this,"__experimental_ui",void 0),d(this,"client",void 0),d(this,"session",void 0),d(this,"organization",void 0),d(this,"user",void 0),d(this,"__internal_country",void 0),d(this,"telemetry",void 0),d(this,"internal_last_error",null),d(this,"environment",void 0),l(this,nF,{writable:!0,value:""}),l(this,nL,{writable:!0,value:void 0}),l(this,nD,{writable:!0,value:void 0}),l(this,nj,{writable:!0,value:void 0}),l(this,nJ,{writable:!0,value:void 0}),l(this,nK,{writable:!0,value:null}),l(this,nV,{writable:!0,value:void 0}),l(this,nq,{writable:!0,value:void 0}),l(this,nB,{writable:!0,value:void 0}),l(this,n$,{writable:!0,value:!1}),l(this,nG,{writable:!0,value:[]}),l(this,nH,{writable:!0,value:{}}),l(this,nY,{writable:!0,value:null}),l(this,nQ,{writable:!0,value:0}),d(this,"__internal_createPublicCredentials",void 0),d(this,"__internal_getPublicCredentials",void 0),d(this,"__internal_isWebAuthnSupported",void 0),d(this,"__internal_isWebAuthnAutofillSupported",void 0),d(this,"__internal_isWebAuthnPlatformAuthenticatorSupported",void 0),d(this,"getFapiClient",()=>a(this,nq)),d(this,"load",async t=>{!this.loaded&&("development"===a(this,nB)&&te.warnOnce("Clerk: Clerk has been loaded with development keys. Development instances have strict usage limits and should not be used when deploying your application to production. Learn more: https://clerk.com/docs/deployments/overview"),h(this,nH,a(this,rp).call(this,t)),ec(a(this,nH)),a(this,nH).sdkMetadata&&(rm.sdkMetadata=a(this,nH).sdkMetadata),!1!==a(this,nH).telemetry&&(this.telemetry=new th({clerkVersion:rm.version,samplingRate:1,publishableKey:this.publishableKey,...a(this,nH).telemetry})),a(this,nH).standardBrowser?h(this,n$,await a(this,n6).call(this)):h(this,n$,await a(this,n4).call(this)))}),d(this,"signOut",async(t,e)=>{var i,n,r;if(!this.client||0===this.client.sessions.length)return;let s=t&&"object"==typeof t?t:e||{},o=(null==s?void 0:s.redirectUrl)||this.buildAfterSignOutUrl(),l="function"==typeof t?t:()=>this.navigate(o);if(!s.sessionId||1===this.client.activeSessions.length)return null===(r=null===(n=a(this,nH).experimental)||void 0===n?void 0:n.persistClient)||void 0===r||r?await this.client.removeSessions():await this.client.destroy(),this.setActive({session:null,beforeEmit:tR(l),redirectUrl:o});let c=this.client.activeSessions.find(t=>t.id===s.sessionId),h=(null==c?void 0:c.id)&&(null===(i=this.session)||void 0===i?void 0:i.id)===c.id;if(await (null==c?void 0:c.remove()),h)return this.setActive({session:null,beforeEmit:tR(l),redirectUrl:o})}),d(this,"openGoogleOneTap",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"GoogleOneTap"}).then(e=>e.openModal("googleOneTap",t||{}))}),d(this,"closeGoogleOneTap",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("googleOneTap"))}),d(this,"openSignIn",t=>{if(this.assertComponentsReady(a(this,nV)),tS(this,this.environment)){if("development"===a(this,nB))throw new K.w$(nz.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,nV).ensureMounted({preloadHint:"SignIn"}).then(e=>e.openModal("signIn",t||{}))}),d(this,"closeSignIn",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("signIn"))}),d(this,"__internal_openReverification",t=>{if(this.assertComponentsReady(a(this,nV)),tU(this)){if("development"===a(this,nB))throw new K.w$(nz.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserVerification"}).then(e=>e.openModal("userVerification",t||{}))}),d(this,"__internal_closeReverification",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("userVerification"))}),d(this,"__internal_openBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.openModal("blankCaptcha",{})))),d(this,"__internal_closeBlankCaptchaModal",()=>(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"BlankCaptchaModal"}).then(t=>t.closeModal("blankCaptcha")))),d(this,"openSignUp",t=>{if(this.assertComponentsReady(a(this,nV)),tS(this,this.environment)){if("development"===a(this,nB))throw new K.w$(nz.cannotOpenSignInOrSignUp,{code:"cannot_render_single_session_enabled"});return}a(this,nV).ensureMounted({preloadHint:"SignUp"}).then(e=>e.openModal("signUp",t||{}))}),d(this,"closeSignUp",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("signUp"))}),d(this,"openUserProfile",t=>{if(this.assertComponentsReady(a(this,nV)),tU(this)){if("development"===a(this,nB))throw new K.w$(nz.cannotOpenUserProfile,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserProfile"}).then(e=>e.openModal("userProfile",t||{}))}),d(this,"closeUserProfile",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("userProfile"))}),d(this,"openOrganizationProfile",t=>{if(this.assertComponentsReady(a(this,nV)),tO(this,this.environment)){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}if(tA(this)){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,nV).ensureMounted({preloadHint:"OrganizationProfile"}).then(e=>e.openModal("organizationProfile",t||{}))}),d(this,"closeOrganizationProfile",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("organizationProfile"))}),d(this,"openCreateOrganization",t=>{if(this.assertComponentsReady(a(this,nV)),tO(this,this.environment)){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}a(this,nV).ensureMounted({preloadHint:"CreateOrganization"}).then(e=>e.openModal("createOrganization",t||{}))}),d(this,"closeCreateOrganization",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("createOrganization"))}),d(this,"openWaitlist",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"Waitlist"}).then(e=>e.openModal("waitlist",t||{}))}),d(this,"closeWaitlist",()=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(t=>t.closeModal("waitlist"))}),d(this,"mountSignIn",(t,e)=>{var i,n;(null==e?void 0:null===(i=e.__experimental)||void 0===i?void 0:i.newComponents)&&this.__experimental_ui?this.__experimental_ui.mount("SignIn",t,e):(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"SignIn"}).then(i=>i.mountComponent({name:"SignIn",appearanceKey:"signIn",node:t,props:e}))),null===(n=this.telemetry)||void 0===n||n.record(td("SignIn",e))}),d(this,"unmountSignIn",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountSignUp",(t,e)=>{var i,n;(null==e?void 0:null===(i=e.__experimental)||void 0===i?void 0:i.newComponents)&&this.__experimental_ui?this.__experimental_ui.mount("SignUp",t,e):(this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted({preloadHint:"SignUp"}).then(i=>i.mountComponent({name:"SignUp",appearanceKey:"signUp",node:t,props:e}))),null===(n=this.telemetry)||void 0===n||n.record(td("SignUp",e))}),d(this,"unmountSignUp",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountUserProfile",(t,e)=>{var i;if(this.assertComponentsReady(a(this,nV)),tU(this)){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderComponentWhenUserDoesNotExist,{code:"cannot_render_user_missing"});return}a(this,nV).ensureMounted({preloadHint:"UserProfile"}).then(i=>i.mountComponent({name:"UserProfile",appearanceKey:"userProfile",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(td("UserProfile",e))}),d(this,"unmountUserProfile",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountOrganizationProfile",(t,e)=>{var i;if(this.assertComponentsReady(a(this,nV)),tO(this,this.environment)){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationProfile"),{code:"cannot_render_organizations_disabled"});return}let n=!tU(this);if(tA(this)&&n){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderComponentWhenOrgDoesNotExist,{code:"cannot_render_organization_missing"});return}a(this,nV).ensureMounted({preloadHint:"OrganizationProfile"}).then(i=>i.mountComponent({name:"OrganizationProfile",appearanceKey:"userProfile",node:t,props:e})),null===(i=this.telemetry)||void 0===i||i.record(td("OrganizationProfile",e))}),d(this,"unmountOrganizationProfile",t=>{this.assertComponentsReady(a(this,nV)),a(this,nV).ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountCreateOrganization",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tO(this,this.environment)){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderAnyOrganizationComponent("CreateOrganization"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"CreateOrganization"}).then(i=>i.mountComponent({name:"CreateOrganization",appearanceKey:"createOrganization",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("CreateOrganization",e))}),d(this,"unmountCreateOrganization",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountOrganizationSwitcher",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tO(this,this.environment)){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationSwitcher"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(i=>i.mountComponent({name:"OrganizationSwitcher",appearanceKey:"organizationSwitcher",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("OrganizationSwitcher",e))}),d(this,"unmountOrganizationSwitcher",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"__experimental_prefetchOrganizationSwitcher",()=>{var t;this.assertComponentsReady(a(this,nV)),null===(t=a(this,nV))||void 0===t||t.ensureMounted({preloadHint:"OrganizationSwitcher"}).then(t=>t.prefetch("organizationSwitcher"))}),d(this,"mountOrganizationList",(t,e)=>{var i,n;if(this.assertComponentsReady(a(this,nV)),tO(this,this.environment)){if("development"===a(this,nB))throw new K.w$(nz.cannotRenderAnyOrganizationComponent("OrganizationList"),{code:"cannot_render_organizations_disabled"});return}null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"OrganizationList"}).then(i=>i.mountComponent({name:"OrganizationList",appearanceKey:"organizationList",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("OrganizationList",e))}),d(this,"unmountOrganizationList",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountUserButton",(t,e)=>{var i,n;this.assertComponentsReady(a(this,nV)),null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"UserButton"}).then(i=>i.mountComponent({name:"UserButton",appearanceKey:"userButton",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("UserButton",e))}),d(this,"unmountUserButton",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"mountWaitlist",(t,e)=>{var i,n;this.assertComponentsReady(a(this,nV)),null===(i=a(this,nV))||void 0===i||i.ensureMounted({preloadHint:"Waitlist"}).then(i=>i.mountComponent({name:"Waitlist",appearanceKey:"waitlist",node:t,props:e})),null===(n=this.telemetry)||void 0===n||n.record(td("Waitlist",e))}),d(this,"unmountWaitlist",t=>{var e;this.assertComponentsReady(a(this,nV)),null===(e=a(this,nV))||void 0===e||e.ensureMounted().then(e=>e.unmountComponent({node:t}))}),d(this,"setActive",async t=>{let{session:e,organization:i,beforeEmit:n,redirectUrl:r}=t;if(!this.client)throw Error("setActive is being called before the client is loaded. Wait for init.");if(void 0===e&&!this.session)throw Error("setActive should either be called with a session param or there should be already an active session.");let s="undefined"!=typeof window&&"function"==typeof window.__unstable__onBeforeSetActive?window.__unstable__onBeforeSetActive:tg,o="undefined"!=typeof window&&"function"==typeof window.__unstable__onAfterSetActive?window.__unstable__onAfterSetActive:tg;"string"==typeof e&&(e=this.client.sessions.find(t=>t.id===e)||null);let l=void 0===e?this.session:e,c=void 0!==i;if(l&&c){let t="string"==typeof i?i:null==i?void 0:i.id;if("string"==typeof t&&t.startsWith("org_"))l.lastActiveOrganizationId=t||null;else{let e=l.user.organizationMemberships.find(e=>e.organization.slug===t);l.lastActiveOrganizationId=(null==e?void 0:e.organization.id)||null}}(null==e?void 0:e.lastActiveToken)&&io.dispatch(ia.TokenUpdate,{token:e.lastActiveToken}),await s(),this.session&&null===l&&(a(this,ri).call(this),io.dispatch(ia.TokenUpdate,{token:null})),(t1()&&globalThis.document.hasFocus()||!a(this,nH).standardBrowser)&&(await a(this,rt).call(this,l),l=a(this,ro).call(this,null==l?void 0:l.id)),await (null==l?void 0:l.getToken())||io.dispatch(ia.TokenUpdate,{token:null});let h=a(this,nH).standardBrowser?ty():void 0;if(n&&(null==h||h.startTracking(),a(this,rr).call(this),J("beforeEmit","Use the `redirectUrl` property instead."),await n(l),null==h||h.stopTracking()),r){if(null==h||h.startTracking(),a(this,rr).call(this),this.client.isEligibleForTouch()){let t=new URL(r,window.location.href);await this.navigate(this.buildUrlWithAuth(this.client.buildTouchUrl({redirectUrl:t})))}else await this.navigate(r);null==h||h.stopTracking()}(null==h||!h.isUnloading())&&(a(this,ra).call(this,l),a(this,re).call(this),await o(),a(this,rn).call(this))}),d(this,"addListener",t=>{var e;let i;return e=t,t=t=>{var n;i||(i={...t}),e(i={client:i3((n=i).client,t.client),session:i3(n.session,t.session),user:i3(n.user,t.user),organization:i3(n.organization,t.organization)})},a(this,nG).push(t),this.client&&t({client:this.client,session:this.session,user:this.user,organization:this.organization}),()=>{h(this,nG,a(this,nG).filter(e=>e!==t))}}),d(this,"navigate",async(t,e)=>{var i;if(!t||!t1())return;let n=new URL(t,window.location.href);t_.includes(n.protocol)||(console.warn('Clerk: "'.concat(n.protocol,'" is not a valid protocol. Redirecting to "/" instead. If you think this is a mistake, please open an issue.')),n=new URL("/",window.location.href));let r=(null==e?void 0:e.replace)&&a(this,nH).routerReplace?a(this,nH).routerReplace:a(this,nH).routerPush;if(a(this,nH).routerDebug&&console.log("Clerk is navigating to: ".concat(n)),n.origin!==window.location.origin||!r){tb(n);return}let s={...(null==e?void 0:e.metadata)?{__internal_metadata:null==e?void 0:e.metadata}:{},windowNavigate:tb};return await r((i=new URL((i=n).toString(),window.location.origin)).href.replace(i.origin,""),s)}),l(this,nZ,{writable:!0,value:async()=>{if(!t1())return;let t=new URLSearchParams({[iw]:"true"}),e=tP(i_);e&&ti(e)||function(){throw Error("".concat(eh," Invalid redirect_url. A valid http or https url should be used for the redirection."))}();let i=tK({base:tP(i_),searchParams:t},{stringify:!0});return this.navigate(this.buildUrlWithAuth(i))}}),d(this,"redirectWithAuth",async t=>{if(t1())return this.navigate(this.buildUrlWithAuth(t))}),d(this,"redirectToSignIn",async t=>{if(t1())return this.navigate(this.buildSignInUrl(t))}),d(this,"redirectToSignUp",async t=>{if(t1())return this.navigate(this.buildSignUpUrl(t))}),d(this,"redirectToUserProfile",async()=>{if(t1())return this.navigate(this.buildUserProfileUrl())}),d(this,"redirectToCreateOrganization",async()=>{if(t1())return this.navigate(this.buildCreateOrganizationUrl())}),d(this,"redirectToOrganizationProfile",async()=>{if(t1())return this.navigate(this.buildOrganizationProfileUrl())}),d(this,"redirectToAfterSignIn",async()=>{if(t1())return this.navigate(this.buildAfterSignInUrl())}),d(this,"redirectToAfterSignUp",async()=>{if(t1())return this.navigate(this.buildAfterSignUpUrl())}),d(this,"redirectToAfterSignOut",async()=>{if(t1())return this.navigate(this.buildAfterSignOutUrl())}),d(this,"redirectToWaitlist",async()=>{if(t1())return this.navigate(this.buildWaitlistUrl())}),d(this,"handleEmailLinkVerification",async(t,e)=>{if(!this.client)return;let i=tP("__clerk_status");if("expired"===i)throw new K.N(K._L.Expired);if("client_mismatch"===i)throw new K.N(K._L.ClientMismatch);if("verified"!==i)throw new K.N(K._L.Failed);let n=tP("__clerk_created_session"),{signIn:r,signUp:s,sessions:a}=this.client,o=a.some(t=>t.id===n),l="needs_second_factor"===r.status||"missing_requirements"===s.status,c=t=>e&&"function"==typeof e?e(t):this.navigate(t),h=t.redirectUrl?()=>c(t.redirectUrl):tg;return o?this.setActive({session:n,redirectUrl:t.redirectUrlComplete}):l?h():("function"==typeof t.onVerifiedOnOtherDevice&&t.onVerifiedOnOtherDevice(),null)}),d(this,"handleGoogleOneTapCallback",async(t,e,i)=>{if(!this.loaded||!this.environment||!this.client)return;let{signIn:n,signUp:r}=this.client,s="identifier"in(t||{})?t:n,a="missingFields"in(t||{})?t:r;return this._handleRedirectCallback(e,{signUp:a,signIn:s,navigate:t=>i&&"function"==typeof i?i(this.buildUrlWithAuth(t)):this.navigate(this.buildUrlWithAuth(t))})}),d(this,"_handleRedirectCallback",async(t,e)=>{var i,n,r,s,o,l;let{signIn:c,signUp:h,navigate:d}=e;if(!this.loaded||!this.environment||!this.client)return;let{displayConfig:u}=this.environment,{firstFactorVerification:p}=c,{externalAccount:f}=h.verifications,m={status:h.status,missingFields:h.missingFields,externalAccountStatus:f.status,externalAccountErrorCode:null===(i=f.error)||void 0===i?void 0:i.code,externalAccountSessionId:null===(r=f.error)||void 0===r?void 0:null===(n=r.meta)||void 0===n?void 0:n.sessionId,sessionId:h.createdSessionId},v={status:c.status,firstFactorVerificationStatus:p.status,firstFactorVerificationErrorCode:null===(s=p.error)||void 0===s?void 0:s.code,firstFactorVerificationSessionId:null===(l=p.error)||void 0===l?void 0:null===(o=l.meta)||void 0===o?void 0:o.sessionId,sessionId:c.createdSessionId},g=t=>()=>d(t),w=g(t.signInUrl||u.signInUrl),_=g(t.signUpUrl||u.signUpUrl),b=g(t.firstFactorUrl||tK({base:u.signInUrl,hashPath:"/factor-one"},{stringify:!0})),y=g(t.secondFactorUrl||tK({base:u.signInUrl,hashPath:"/factor-two"},{stringify:!0})),k=g(t.resetPasswordUrl||tK({base:u.signInUrl,hashPath:"/reset-password"},{stringify:!0})),S=new nr(a(this,nH),t),U=g(t.continueSignUpUrl||tK({base:u.signUpUrl,hashPath:"/continue"},{stringify:!0})),A=e=>{let{missingFields:i}=e;return i.length?U():tk({signUp:h,verifyEmailPath:t.verifyEmailAddressUrl||tK({base:u.signUpUrl,hashPath:"/verify-email-address"},{stringify:!0}),verifyPhonePath:t.verifyPhoneNumberUrl||tK({base:u.signUpUrl,hashPath:"/verify-phone-number"},{stringify:!0}),navigate:d})};if("complete"===v.status)return this.setActive({session:v.sessionId,redirectUrl:S.getAfterSignInUrl()});if("transferable"===m.externalAccountStatus&&"external_account_exists"===m.externalAccountErrorCode){let t=await c.create({transfer:!0});switch(t.status){case"complete":return this.setActive({session:t.createdSessionId,redirectUrl:S.getAfterSignInUrl()});case"needs_first_factor":return b();case"needs_second_factor":return y();case"needs_new_password":return k();default:ep("sign in")}}let O="user_locked"===m.externalAccountErrorCode,I="user_locked"===v.firstFactorVerificationErrorCode;if(O)return _();if(I)return w();if("needs_first_factor"===v.status)return b();if("needs_new_password"===v.status)return k();if("transferable"===v.firstFactorVerificationStatus){if(!1===t.transferable)return w();let e=await h.create({transfer:!0});switch(e.status){case"complete":return this.setActive({session:e.createdSessionId,redirectUrl:S.getAfterSignUpUrl()});case"missing_requirements":return A({missingFields:e.missingFields});default:ep("sign in")}}if("complete"===m.status)return this.setActive({session:m.sessionId,redirectUrl:S.getAfterSignUpUrl()});if("needs_second_factor"===v.status)return y();let C=("failed"===m.externalAccountStatus||"unverified"===m.externalAccountStatus)&&"identifier_already_signed_in"===m.externalAccountErrorCode&&m.externalAccountSessionId,P="failed"===v.firstFactorVerificationStatus&&"identifier_already_signed_in"===v.firstFactorVerificationErrorCode&&v.firstFactorVerificationSessionId;if(C||P){let t=v.firstFactorVerificationSessionId||m.externalAccountSessionId;if(t)return this.setActive({session:t,redirectUrl:S.getAfterSignInUrl()})}return tq(h)?_():"verified"===m.externalAccountStatus&&"missing_requirements"===m.status?A({missingFields:h.missingFields}):w()}),d(this,"handleRedirectCallback",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(!i.loaded||!i.environment||!i.client)return;let{signIn:n,signUp:r}=i.client;return i._handleRedirectCallback(t,{signUp:r,signIn:n,navigate:t=>e&&"function"==typeof e?e(t):i.navigate(t)})}),d(this,"handleUnauthenticated",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{broadcast:!0};if(!i.client||!i.session)return;let e=await eO.getInstance().fetch();if(i.updateClient(e),!i.session)return t.broadcast&&a(i,ri).call(i),i.setActive({session:null})}),d(this,"authenticateWithGoogleOneTap",async t=>{var e;return null===(e=this.client)||void 0===e?void 0:e.signIn.create({strategy:"google_one_tap",token:t.token}).catch(e=>{if((0,K.kD)(e)&&"external_account_not_found"===e.errors[0].code){var i;return null===(i=this.client)||void 0===i?void 0:i.signUp.create({strategy:"google_one_tap",token:t.token,legalAccepted:t.legalAccepted})}throw e})}),d(this,"authenticateWithMetamask",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_metamask_signature"})}),d(this,"authenticateWithCoinbaseWallet",async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await i.authenticateWithWeb3({...t,strategy:"web3_coinbase_wallet_signature"})}),d(this,"authenticateWithWeb3",async t=>{let e,{redirectUrl:i,signUpContinueUrl:n,customNavigate:r,unsafeMetadata:s,strategy:a,legalAccepted:o}=t;if(!this.client||!this.environment)return;let l=a.replace("web3_","").replace("_signature",""),c=await ei({provider:l}),h="metamask"===l?ea:eo;try{e=await this.client.signIn.authenticateWithWeb3({identifier:c,generateSignature:h,strategy:a})}catch(t){if(tI(t,ib.FORM_IDENTIFIER_NOT_FOUND)){if(e=await this.client.signUp.authenticateWithWeb3({identifier:c,generateSignature:h,unsafeMetadata:s,strategy:a,legalAccepted:o}),n&&"missing_requirements"===e.status&&"verified"===e.verifications.web3Wallet.status)await (r&&"function"==typeof r?r(n):this.navigate(n))}else throw t}e.createdSessionId&&await this.setActive({session:e.createdSessionId,redirectUrl:i})}),d(this,"createOrganization",async t=>{let{name:e,slug:i}=t;return e6.create({name:e,slug:i})}),d(this,"getOrganization",async t=>e6.get(t)),d(this,"joinWaitlist",async t=>{let{emailAddress:e}=t;return i1.join({emailAddress:e})}),d(this,"__internal_setCountry",t=>{this.__internal_country||(this.__internal_country=t)}),d(this,"updateClient",t=>{if(!this.client){let e=a(this,nH).selectInitialSession?a(this,nH).selectInitialSession(t):a(this,n8).call(this,t);a(this,ra).call(this,e)}if(this.client=t,this.session){let t=a(this,ro).call(this,this.session.id);a(this,ra).call(this,t)}a(this,re).call(this)}),d(this,"__unstable__setEnvironment",async t=>{this.environment=new ez(t),rm.mountComponentRenderer&&h(this,nV,rm.mountComponentRenderer(this,this.environment,a(this,nH)))}),d(this,"__unstable__onBeforeRequest",t=>{a(this,nq).onBeforeRequest(t)}),d(this,"__unstable__onAfterResponse",t=>{a(this,nq).onAfterResponse(t)}),d(this,"__unstable__updateProps",t=>{var e;let i={...t,options:a(this,rp).call(this,{...a(this,nH),...t.options})};return null===(e=a(this,nV))||void 0===e?void 0:e.ensureMounted().then(t=>t.updateProps(i))}),l(this,nX,{writable:!0,value:()=>{let t=new URLSearchParams({[i_]:window.location.href});return tK({base:a(this,nH).signInUrl,searchParams:t},{stringify:!0})}}),l(this,n0,{writable:!0,value:()=>{let t;if(this.proxyUrl){let e=new URL(this.proxyUrl);t=new URL("".concat(e.pathname,"/v1/client/sync"),e.origin)}else this.domain&&(t=new URL("/v1/client/sync","https://".concat(this.domain)));return null==t||t.searchParams.append("redirect_url",window.location.href),(null==t?void 0:t.toString())||""}}),l(this,n1,{writable:!0,value:()=>{var t;return"true"!==tP(iw)&&!!this.isSatellite&&!!(null===(t=a(this,nj))||void 0===t?void 0:t.isSignedOut())}}),l(this,n3,{writable:!0,value:()=>"production"!==a(this,nB)&&!this.isSatellite&&!!tP(i_)}),l(this,n2,{writable:!0,value:async()=>{"development"===this.instanceType?await this.navigate(a(this,nX).call(this)):"production"===this.instanceType&&await this.navigate(a(this,n0).call(this))}}),l(this,n5,{writable:!0,value:(t,e)=>{let i;try{i=new URL(t)}catch{!function(){throw Error("".concat(eh," The signInUrl needs to have a absolute url format."))}()}i.origin===e&&function(){throw Error("".concat(eh," The signInUrl needs to be on a different origin than your satellite application."))}()}}),l(this,n9,{writable:!0,value:()=>{this.isSatellite&&("development"!==a(this,nB)||a(this,nH).signInUrl||function(){throw Error("".concat(eh," Missing signInUrl. A satellite application needs to specify the signInUrl for development instances."))}(),this.proxyUrl||this.domain||function(){throw Error("".concat(eh," Missing domain and proxyUrl. A satellite application needs to specify a domain or a proxyUrl."))}(),a(this,nH).signInUrl&&a(this,n5).call(this,a(this,nH).signInUrl,window.location.origin))}}),l(this,n6,{writable:!0,value:async()=>{var t,e,i;if(h(this,nj,await nx.create(this,a(this,nq))),a(this,n9).call(this),a(this,n1).call(this))return await a(this,n2).call(this),!1;if("production"===a(this,nB)?null===(e=a(this,nj))||void 0===e||e.setupProduction():await (null===(i=a(this,nj))||void 0===i?void 0:i.setupDevelopment()),a(this,n3).call(this))return await a(this,nZ).call(this),!1;h(this,nY,t0()),h(this,nK,new X("clerk")),a(this,n7).call(this);let n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!t)return!1;let e=tj.get(t);if(void 0===e)e=B.some(e=>t.startsWith("accounts.")&&t.endsWith(e))||$.some(e=>t.endsWith(e)&&!t.endsWith(".clerk"+e)),tj.set(t,e);return e}(null===(t=window)||void 0===t?void 0:t.location.hostname),r="development"===a(this,nB)&&!n,s=0;for(;s<2;){s++;try{let[t,e]=await Promise.all([ez.getInstance().fetch({touch:r}),eO.getInstance().fetch()]);if(this.updateClient(e),this.updateEnvironment(t),a(this,nj).setActiveOrganizationInStorage(),await a(this,ru).call(this))return!1;rm.mountComponentRenderer&&h(this,nV,rm.mountComponentRenderer(this,this.environment,a(this,nH)));break}catch(t){if(tI(t,"dev_browser_unauthenticated"))await a(this,nj).handleUnauthenticatedDevBrowser();else if(!(N()&&z()))return console.warn(t),!1;else throw t}s>=2&&function(){throw Error("".concat(eh," Something went wrong initializing Clerk."))}()}return h(this,nJ,new nM(this)),a(this,nJ).start(),a(this,rf).call(this),a(this,rc).call(this),a(this,rh).call(this),!0}}),l(this,n4,{writable:!0,value:async()=>{let[t,e]=await Promise.all([ez.getInstance().fetch({touch:!1}),eO.getInstance().fetch()]);return this.updateClient(e),this.updateEnvironment(t),rm.mountComponentRenderer&&h(this,nV,rm.mountComponentRenderer(this,this.environment,a(this,nH))),!0}}),l(this,n8,{writable:!0,value:t=>{if(t.lastActiveSessionId){let e=t.activeSessions.find(e=>e.id===t.lastActiveSessionId);if(e)return e}return t.activeSessions[0]||null}}),l(this,n7,{writable:!0,value:()=>{var t,e;u()&&(null===(t=a(this,nY))||void 0===t||t.onPageFocus(()=>{this.session&&!(a(this,nQ)>Date.now())&&(h(this,nQ,Date.now()+5e3),a(this,rt).call(this,this.session))}),null===(e=a(this,nK))||void 0===e||e.addEventListener("message",t=>{let{data:e}=t;"signout"===e.type&&this.handleUnauthenticated()}))}}),l(this,rt,{writable:!0,value:async t=>{if(!t||!a(this,nH).touchSession)return Promise.resolve();await t.touch().catch(t=>{(0,K.ix)(t)&&this.handleUnauthenticated()})}}),l(this,re,{writable:!0,value:()=>{if(this.client)for(let t of a(this,nG))t({client:this.client,session:this.session,user:this.user,organization:this.organization})}}),l(this,ri,{writable:!0,value:()=>{var t;null===(t=a(this,nK))||void 0===t||t.postMessage({type:"signout"})}}),l(this,rn,{writable:!0,value:()=>{rm.mountComponentRenderer&&(this.closeSignUp(),this.closeSignIn())}}),l(this,rr,{writable:!0,value:()=>{this.session=void 0,this.organization=void 0,this.user=void 0,a(this,re).call(this)}}),l(this,rs,{writable:!0,value:()=>{var t;return((null===(t=this.session)||void 0===t?void 0:t.user.organizationMemberships)||[]).map(t=>t.organization).find(t=>{var e;return t.id===(null===(e=this.session)||void 0===e?void 0:e.lastActiveOrganizationId)})||null}}),l(this,ra,{writable:!0,value:t=>{this.session=t||null,this.organization=a(this,rs).call(this),a(this,rl).call(this)}}),l(this,ro,{writable:!0,value:t=>{var e;return(null===(e=this.client)||void 0===e?void 0:e.activeSessions.find(e=>e.id===t))||null}}),l(this,rl,{writable:!0,value:()=>{this.user=this.session?this.session.user:null}}),l(this,rc,{writable:!0,value:()=>{this.addListener(t=>{let{session:e}=t;if(null==e?void 0:e.actor){var i;null===(i=a(this,nV))||void 0===i||i.ensureMounted().then(t=>t.mountImpersonationFab())}})}}),l(this,rh,{writable:!0,value:()=>{var t;null===(t=a(this,nV))||void 0===t||t.ensureMounted().then(t=>{a(this,nH).__internal_claimAccountlessKeysUrl&&t.updateProps({options:{__internal_claimAccountlessKeysUrl:a(this,nH).__internal_claimAccountlessKeysUrl}})})}}),l(this,rd,{writable:!0,value:(t,e,i)=>{if(!t||!this.loaded||!this.environment||!this.environment.displayConfig)return"";let n=a(this,nH)[t]||this.environment.displayConfig[t],r=new nr(a(this,nH),e).toSearchParams(),s=tK({base:n,hashSearchParams:[new URLSearchParams(i||{}),r]},{stringify:!0});return this.buildUrlWithAuth(s)}}),l(this,ru,{writable:!0,value:async()=>{var t,e;let i=new URLSearchParams(window.location.search).get("redirect_url"),n="production"===this.instanceType,r=null!==i&&function(t,e){let i=new URL(e,tF),n=i.pathname,r=tG.includes(n)||tH.includes(n);return t===i.host&&r}(this.frontendApi,i);if(n||!r)return!1;let s=this.session,o=a(this,nH).signInUrl||(null===(t=this.environment)||void 0===t?void 0:t.displayConfig.signInUrl),l=o&&window.location.href.startsWith(o),c=a(this,nH).signUpUrl||(null===(e=this.environment)||void 0===e?void 0:e.displayConfig.signUpUrl),h=c&&window.location.href.startsWith(c);return(!function(t){let e=new URL(t,tF);return tG.includes(e.pathname)}(i)||!!s||!l&&!h)&&(await this.navigate(this.buildUrlWithAuth(i)),!0)}}),l(this,rp,{writable:!0,value:t=>({...nN,...t,allowedRedirectOrigins:function(t,e){if(Array.isArray(t)&&t.length)return t;let i=[];return"undefined"!=typeof window&&window.location&&i.push(window.location.origin),i.push("https://".concat(tJ(e))),i.push("https://*.".concat(tJ(e))),i}(null==t?void 0:t.allowedRedirectOrigins,this.frontendApi)})}),l(this,rf,{writable:!0,value:()=>{try{tE(iw),tE("suffixed_cookies"),tE("__clerk_handshake"),tE("__clerk_help")}catch(t){}}}),t=(t||"").trim(),h(this,nL,null==e?void 0:e.domain),h(this,nD,null==e?void 0:e.proxyUrl),!t)return tC.throwMissingPublishableKeyError();let n=Y(t);if(!n)return tC.throwInvalidPublishableKeyError({key:t});h(this,nF,t),h(this,nB,n.instanceType),h(this,nq,ik(this)),eb.clerk=this}}d(rm,"mountComponentRenderer",void 0),d(rm,"version","5.35.0"),d(rm,"sdkMetadata",{name:"@clerk/clerk-js",version:"5.35.0",environment:"production"}),t=i.hmd(t);let rv=(null===(R=document.querySelector("script[data-clerk-publishable-key]"))||void 0===R?void 0:R.getAttribute("data-clerk-publishable-key"))||window.__clerk_publishable_key||"",rg=(null===(x=document.querySelector("script[data-clerk-proxy-url]"))||void 0===x?void 0:x.getAttribute("data-clerk-proxy-url"))||window.__clerk_proxy_url||"",rw=(null===(M=document.querySelector("script[data-clerk-domain]"))||void 0===M?void 0:M.getAttribute("data-clerk-domain"))||window.__clerk_domain||"";window.Clerk=new rm(rv,{proxyUrl:rg,domain:rw}),t.hot&&t.hot.accept()},2689:function(t,e,i){"use strict";i.d(e,{Ko:function(){return p},U9:function(){return m},ac:function(){return u},qx:function(){return f},r2:function(){return l},yA:function(){return h}});var n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o=t=>{throw TypeError(t)},l=(t,e)=>{for(var i in e)n(t,i,{get:e[i],enumerable:!0})},c=(t,e,i,o)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let l of s(e))a.call(t,l)||l===i||n(t,l,{get:()=>e[l],enumerable:!(o=r(e,l))||o.enumerable});return t},h=(t,e,i)=>(c(t,e,"default"),i&&c(i,e,"default")),d=(t,e,i)=>e.has(t)||o("Cannot "+i),u=(t,e,i)=>(d(t,e,"read from private field"),i?i.call(t):e.get(t)),p=(t,e,i)=>e.has(t)?o("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),f=(t,e,i,n)=>(d(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),m=(t,e,i)=>(d(t,e,"access private method"),i)},5120:function(t,e,i){"use strict";function n(t){return["captcha_invalid","captcha_not_enabled","captcha_missing_token"].includes(t.errors[0].code)}function r(t){let e=null==t?void 0:t.status;return!!e&&e>=400&&e<500}function s(t){return(`${t.message}${t.name}`||"").toLowerCase().replace(/\s+/g,"").includes("networkerror")}function a(t){return"clerkError"in t}function o(t=[]){return t.length>0?t.map(l):[]}function l(t){var e,i,n,r,s;return{code:t.code,message:t.message,longMessage:t.long_message,meta:{paramName:null==(e=null==t?void 0:t.meta)?void 0:e.param_name,sessionId:null==(i=null==t?void 0:t.meta)?void 0:i.session_id,emailAddresses:null==(n=null==t?void 0:t.meta)?void 0:n.email_addresses,identifiers:null==(r=null==t?void 0:t.meta)?void 0:r.identifiers,zxcvbn:null==(s=null==t?void 0:t.meta)?void 0:s.zxcvbn}}}i.d(e,{N:function(){return d},RK:function(){return m},_L:function(){return u},eE:function(){return s},gO:function(){return c},iR:function(){return o},ix:function(){return r},kD:function(){return a},nU:function(){return l},pG:function(){return n},t5:function(){return f},w$:function(){return h}});var c=class t extends Error{constructor(e,{data:i,status:n,clerkTraceId:r}){super(e),this.toString=()=>{let t=`[${this.name}]
Message:${this.message}
Status:${this.status}
Serialized errors: ${this.errors.map(t=>JSON.stringify(t))}`;return this.clerkTraceId&&(t+=`
Clerk Trace ID: ${this.clerkTraceId}`),t},Object.setPrototypeOf(this,t.prototype),this.status=n,this.message=e,this.clerkTraceId=r,this.clerkError=!0,this.errors=o(i)}},h=class t extends Error{constructor(e,{code:i}){let n="\uD83D\uDD12 Clerk:",r=RegExp(n.replace(" ","\\s*"),"i"),s=e.replace(r,""),a=`${n} ${s.trim()}

(code="${i}")
`;super(a),this.toString=()=>`[${this.name}]
Message:${this.message}`,Object.setPrototypeOf(this,t.prototype),this.code=i,this.message=a,this.clerkRuntimeError=!0,this.name="ClerkRuntimeError"}},d=class t extends Error{constructor(e){super(e),this.code=e,Object.setPrototypeOf(this,t.prototype)}},u={Expired:"expired",Failed:"failed",ClientMismatch:"client_mismatch"},p=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function f({packageName:t,customMessages:e}){let i=t,n={...p,...e};function r(t,e){if(!e)return`${i}: ${t}`;let n=t;for(let i of t.matchAll(/{{([a-zA-Z0-9-_]+)}}/g)){let t=(e[i[1]]||"").toString();n=n.replace(`{{${i[1]}}}`,t)}return`${i}: ${n}`}return{setPackageName({packageName:t}){return"string"==typeof t&&(i=t),this},setMessages({customMessages:t}){return Object.assign(n,t||{}),this},throwInvalidPublishableKeyError(t){throw Error(r(n.InvalidPublishableKeyErrorMessage,t))},throwInvalidProxyUrl(t){throw Error(r(n.InvalidProxyUrlErrorMessage,t))},throwMissingPublishableKeyError(){throw Error(r(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw Error(r(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(t){throw Error(r(n.MissingClerkProvider,t))},throw(t){throw Error(r(t))}}}var m=class extends h{constructor(t,{code:e}){super(t,{code:e}),this.code=e}}},9996:function(t,e,i){"use strict";i.d(e,{Q:function(){return u}});var n={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},r=new Set(["first_factor","second_factor","multi_factor"]),s=new Set(["strict_mfa","strict","moderate","lax"]),a=t=>"number"==typeof t&&t>0,o=t=>r.has(t),l=t=>s.has(t),c=(t,e)=>{let{orgId:i,orgRole:n,orgPermissions:r}=e;return(t.role||t.permission)&&i&&n&&r?t.permission?r.includes(t.permission):t.role?n===t.role:null:null},h=t=>{if(!t)return!1;let e="string"==typeof t&&l(t),i="object"==typeof t&&o(t.level)&&a(t.afterMinutes);return(!!e||!!i)&&(t=>"string"==typeof t?n[t]:t).bind(null,t)},d=(t,{factorVerificationAge:e})=>{if(!t.reverification||!e)return null;let i=h(t.reverification);if(!i)return null;let{level:n,afterMinutes:r}=i(),[s,a]=e,o=-1!==s?r>s:null,l=-1!==a?r>a:null;switch(n){case"first_factor":return o;case"second_factor":return -1!==a?l:o;case"multi_factor":return -1===a?o:o&&l}},u=t=>e=>{if(!t.userId)return!1;let i=c(e,t),n=d(e,t);return[i,n].some(t=>null===t)?[i,n].some(t=>!0===t):[i,n].every(t=>!0===t)}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}return i.m=t,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};i.t=function(n,r){if(1&r&&(n=this(n)),8&r||"object"==typeof n&&n&&(4&r&&n.__esModule||16&r&&"function"==typeof n.then))return n;var s=Object.create(null);i.r(s);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&r&&n;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach(function(t){a[t]=function(){return n[t]}});return a.default=function(){return n},i.d(s,a),s}})(),i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce(function(e,n){return i.f[n](t,e),e},[]))},i.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},i.u=function(t){return""+(({192:"vendors",199:"cookieSuffix",325:"zxcvbn-common",344:"framework",573:"ui-common",708:"zxcvbn-ts-core",956:"coinbase-wallet-sdk"})[t]||t)+"_"+i.h().slice(0,6)+"_5.35.0.js"},i.h=function(){return"bc575cb4bc8593bcaea3"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},(()=>{var t={},e="@clerk/clerk-js:";i.l=function(n,r,s,a){if(t[n]){t[n].push(r);return}if(void 0!==s)for(var o,l,c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==e+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",e+s),o.src=n),t[n]=[r];var u=function(e,i){o.onerror=o.onload=null,clearTimeout(p);var r=t[n];if(delete t[n],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(function(t){return t(i)}),e)return e(i)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}})(),i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{i.g.importScripts&&(t=i.g.location+"");var t,e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t={567:0};i.f.j=function(e,n){var r=i.o(t,e)?t[e]:void 0;if(0!==r){if(r)n.push(r[2]);else{var s=new Promise(function(i,n){r=t[e]=[i,n]});n.push(r[2]=s);var a=i.p+i.u(e),o=Error();i.l(a,function(n){if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,r[1](o)}},"chunk-"+e,e)}}};var e=function(e,n){var r,s,a=n[0],o=n[1],l=n[2],c=0;if(a.some(function(e){return 0!==t[e]})){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);l&&l(i)}for(e&&e(n);c<a.length;c++)s=a[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0},n=globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),i("6361")})());